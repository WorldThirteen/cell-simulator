{"version":3,"sources":["webpack:///webpack/bootstrap aa371f4e55d28b611388","webpack:///./src/index.js","webpack:///./src/drawer/index.js","webpack:///./src/main/index.js","webpack:///./src/math/vec2.js","webpack:///./src/evolve/index.js","webpack:///./src/workers/simulator_worker.js","webpack:///./src/ui_controller.js"],"names":["window","PARTS_NUM","UNIT_RAD","FOOD_RAD","LINE_LENGTH","drawer","document","getElementById","MainController","ui","CanvasDrawer","canvas","params","width","height","ctx","getContext","source","end","color","strokeStyle","beginPath","moveTo","x","y","lineTo","stroke","frameData","clear","fillStyle","units","map","drawUnit","food","drawFoodItem","unit","score","lines","radius","font","textAlign","textBaseline","fillText","arc","Math","PI","drawCanvasLine","line","from","to","active","item","fill","clearRect","opts","setCallback","actionHandler","generateFood","options","visibleUnit","populationSize","speed","FPS","evolver","numberOfGenes","numberOfWinners","genesToMutate","mutationRate","current","workers","status","populationNum","prevFrame","init","type","value","Object","assign","setSpeed","setState","Array","round","random","data","row","matrix","i","length","push","slice","population","weights","toMatrix","u","initRandomPopulation","initRound","requestAnimationFrame","frameHandler","toUnits","initWorkers","evolve","getViewebleUnitIndex","drawFrame","life","w","key","terminate","addEventListener","e","checkEnd","postMessage","delay","indexOf","updateUI","update","visible","highlight","Date","now","draw","err","console","log","state","filter","sort","a","b","Vec2","set","result","arguments","name","vec2","Sub","Add","Multiply","scalar","vec","abs","size","h","DotProduct","Project","Angle","sqrt","obj","vec1","pow","d","dotProduct","dp","multiplier","multScalar","Evolver","DEFAULT_CONFIG","genes","gen","genome1","genome2","genomes","child","marks","marked","mark","parents","res","counter","_l","parent1","parent2","cross","prepopulation","at","genome","mutate","crossing","select","UIController","callback","putButtons","putPlayPause","setPopulationNum","putOptions","func","node","style","cont","querySelector","o","c","children","createElement","insertBefore","max","min","btn","graph","fontWeight","backgroundColor","innerHTML","remove","selected","border","fontSize","lineHeight","cursor","selStyle","id","setStyle","display","marginLeft","el","innerText","onclick","appendChild","num","arr","root_opt","pop_size","num_win","mut_num","mut_rate","select_fps","onchange","parseInt","target"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap aa371f4e55d28b611388","import CanvasDrawer from './drawer';\nimport MainController from './main';\nimport UIController from './ui_controller';\n\nwindow.PARTS_NUM = 15;\nwindow.UNIT_RAD = 30;\nwindow.FOOD_RAD = 8;\nwindow.LINE_LENGTH = 25;\n\nwindow.drawer = new CanvasDrawer(document.getElementById('canvas'));;\nwindow.MainController = new MainController({ drawer, ui: UIController });\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export default class CanvasDrawer {\n\n\tconstructor(canvas) {\n\n\t\tthis.params = {\n\t\t\twidth: canvas.width,\n\t\t\theight: canvas.height,\n\t\t}\n\n\t\tthis.ctx = canvas.getContext('2d');\n\n\t}\n\n\t// drawSmallPoint(coords, radius, color) {\n\t//\n\t// \tthis.ctx.fillStyle = color;\n\t// \tthis.ctx.beginPath();\n\t// \tthis.ctx.arc(coords.x, coords.y, radius, 0, Math.PI * 2, false);\n\t// \tthis.ctx.fill();\n\t//\n\t// }\n\n\tdrawCanvasLine(source, end, color) {\n\n\t\tthis.ctx.strokeStyle = color;\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.moveTo(source.x,source.y);\n\t\tthis.ctx.lineTo(end.x,end.y);\n\t\tthis.ctx.stroke();\n\n\t}\n\n\tdrawFrame(frameData) {\n\n\t\tthis.clear();\n\n\t\tthis.ctx.strokeStyle = '#40484f';\n\t\tthis.ctx.fillStyle = '#0abe55';\n\n\t\tframeData\n\t\t\t.units\n\t\t\t.map(::this.drawUnit);\n\n\t\tframeData\n\t\t\t.food\n\t\t\t.map(::this.drawFoodItem);\n\n\n\t}\n\n\tdrawUnit(unit) {\n\n\t\tconst { x, y, score, lines } = unit;\n\n\t\tthis.ctx.beginPath();\n\t\tconst radius = UNIT_RAD;\n\n\t\tthis.ctx.font = \"24px Arial\";\n\t\tthis.ctx.textAlign = \"center\";\n\t\tthis.ctx.textBaseline = \"middle\";\n\t\tthis.ctx.strokeStyle = 'black';\n\t\tthis.ctx.fillText(score, unit.x, unit.y);\n\t\tthis.ctx.arc(x, y, radius, 0, Math.PI * 2, false);\n\t\tthis.ctx.stroke();\n\n\t\tlines.map(line =>\n\t\t\tthis.drawCanvasLine(line.from, line.to, line.active ? 'green' : 'black'));\n\n\t}\n\n\tdrawFoodItem(item) {\n\n\t\tconst { x, y } = item;\n\n\t\tthis.ctx.beginPath();\n\t\tconst radius = FOOD_RAD;\n\n\t\tthis.ctx.arc(x, y, radius, 0, Math.PI * 2, false);\n\t\tthis.ctx.fill();\n\n\t}\n\n\tclear() {\n\n\t\tthis.ctx.clearRect(0, 0, this.params.width, this.params.height);\n\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/drawer/index.js","import Vec2 from '../math/vec2';\nimport Evolver from '../evolve';\nimport SimulatorWorker from 'worker-loader!../workers/simulator_worker';\n\nexport default class MainController {\n\n\tconstructor(opts) {\n\n\t\tthis.drawer = opts.drawer;\n\t\tthis.ui = opts.ui;\n\t\tthis.ui.setCallback(::this.actionHandler);\n\n\t\tthis.generateFood();\n\n\t\tthis.options = {\n\t\t\tvisibleUnit: 'HS',\n\t\t\tpopulationSize: 10,\n\t\t\tspeed: 10,\n\t\t\tFPS: 60,\n\t\t}\n\n\t\tthis.evolver = new Evolver({\n\t\t\tpopulationSize: this.options.populationSize,\n\t\t\tnumberOfGenes: 450,\n\t\t\tnumberOfWinners: 3,\n\t\t\tgenesToMutate: 200,\n\t\t\tmutationRate: 0.25\n\t\t});\n\n\t\tthis.current = [];\n\t\tthis.workers = [];\n\t\tthis.status = 'paused';\n\t\tthis.populationNum = 0;\n\t\tthis.prevFrame = 0;\n\n\t\tthis.init();\n\n\t}\n\n\tactionHandler(type, value) {\n\n\t\tswitch (type) {\n\n\t\t\tcase 'options':\n\n\t\t\t\tthis.options = Object.assign(this.options, value);\n\t\t\t\tif (typeof value.speed !== 'undefined') {\n\t\t\t\t\t\n\t\t\t\t\tthis.setSpeed();\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'play':\n\n\t\t\t\tthis.setState(this.status === 'started' ? 'paused' : 'started');\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 'form_options':\n\n\t\t\t\tif (value.populationSize) {\n\t\t\t\t\tthis.options.populationSize = value.populationSize;\n\t\t\t\t}\n\t\t\t\tthis.evolver.params = Object.assign(this.evolver.params, value);\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tgenerateFood() {\n\n\t\tthis.food = new Array(Math.round(Math.random() * 100))\n\t\t\t.fill(null)\n\t\t\t.map(() => {\n\n\t\t\t\treturn new Vec2(\n\t\t\t\t\tMath.random() * 800,\n\t\t\t\t\tMath.random() * 400,\n\t\t\t\t);\n\n\t\t\t});\n\n\t}\n\n\ttoMatrix(data, row) {\n\n\t\tvar matrix = [];\n\t\tfor (var i = 0; i < data.length; i += row) {\n\t\t\tmatrix.push(data.slice(i, i + row));\n\t\t}\n\t\treturn matrix;\n\n\t}\n\n\ttoUnits(population) {\n\n\t\treturn population.map(u => {\n\n\t\t\treturn {\n\t\t\t\tx: 400,\n\t\t\t\ty: 200,\n\t\t\t\tweights: [\n\t\t\t\t\tthis.toMatrix(u.slice(0, u.length / 2), 15),\n\t\t\t\t\tthis.toMatrix(u.slice(u.length / 2, u.length), 15),\n\t\t\t\t]\n\t\t\t};\n\n\t\t});\n\n\t}\n\n\tinit() {\n\n\t\tthis.evolver.initRandomPopulation();\n\t\tthis.ui.init(this);\n\t\tthis.initRound();\n\n\t\trequestAnimationFrame(::this.frameHandler);\n\n\t}\n\n\tinitRound() {\n\n\t\tconst population = this.toUnits(this.evolver.population);\n\t\tthis.generateFood();\n\n\t\tthis.initWorkers(population, this.food);\n\t}\n\n\tevolve() {\n\n\t\tthis.evolver.evolve(this.current.map(u => u.score));\n\t\tthis.populationNum++;\n\n\t}\n\n\tdraw() {\n\n\t\tconst u = this.current[ this.getViewebleUnitIndex() ];\n\t\tif (u) {\n\t\t\tthis.drawer.drawFrame(u);\n\t\t}\n\n\t}\n\n\tinitWorkers(units, food) {\n\n\t\tthis.current = units.map(u => ({\n\t\t\tunits: [{ ...u, life: 100, lines: [], score: 0 }],\n\t\t\tfood: this.food\n\t\t}));\n\n\t\tif (units.length < this.workers.length) {\n\t\t\tthis.workers.map((w, key) => {\n\t\t\t\tif (key >= units.length) {\n\t\t\t\t\tw.terminate();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tunits.map((u, i) => {\n\n\t\t\tif (!this.workers[ i ]) {\n\n\t\t\t\tthis.workers[ i ] = new SimulatorWorker();\n\t\t\t\tthis.workers[ i ].addEventListener('message', (e) => {\n\t\t\t\t\tif (e.data.type === 'STEP_SUCCESS') {\n\t\t\t\t\t\tthis.current[ i ] = e.data.unit;\n\t\t\t\t\t}\n\t\t\t\t\tthis.checkEnd();\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tthis.workers[ i ].postMessage({\n\t\t\t\ttype: 'INIT',\n\t\t\t\tpopulation: [u],\n\t\t\t\tfood,\n\t\t\t\tdelay: this.options.speed\n\t\t\t});\n\n\t\t});\n\n\t}\n\n\tcheckEnd() {\n\n\t\tif (this.current.map(u => u.end).indexOf(false) === -1) {\n\n\t\t\tthis.evolve();\n\t\t\tif (this.options.FPS === 0) {\n\t\t\t\tthis.updateUI();\n\t\t\t}\n\t\t\tthis.initRound();\n\n\t\t}\n\n\t}\n\n\tupdateUI() {\n\n\t\tthis.ui.update({\n\t\t\tunits: this.current.map(u => u.units[0]),\n\t\t\tvisible: this.options.visibleUnit,\n\t\t\thighlight: this.getViewebleUnitIndex(),\n\t\t\tpopulationNum: this.populationNum\n\t\t});\n\n\t}\n\n\tframeHandler() {\n\n\t\trequestAnimationFrame(::this.frameHandler);\n\n\t\tif (Date.now() - this.prevFrame > 1000 / this.options.FPS) {\n\n\t\t\ttry {\n\n\t\t\t\tif (Date.now() % 2 === 0) {\n\n\t\t\t\t\tthis.updateUI();\n\n\t\t\t\t}\n\t\t\t\tthis.draw();\n\n\t\t\t} catch (err) {\n\n\t\t\t\tconsole.log(err);\n\n\t\t\t}\n\n\t\t\tthis.prevFrame = Date.now();\n\n\t\t}\n\n\t}\n\n\tsetSpeed() {\n\t\t\n\t\tthis.workers.map(w => {\n\t\t\t\n\t\t\tw.postMessage({ type: 'CHANGE_DELAY', delay: this.options.speed });\n\t\t\t\n\t\t});\n\t\t\n\t}\n\n\tsetState(status) {\n\n\t\tthis.status = status;\n\n\t\tthis.workers.map(w => {\n\n\t\t\tw.postMessage({ type: 'CHANGE_STATE', state: this.status });\n\n\t\t});\n\n\t}\n\n\tgetViewebleUnitIndex() {\n\n\t\tif (this.options.visibleUnit === 'HS') {\n\t\t\tconst i = this.current\n\t\t\t\t.filter(u => u.units[0].life > 0)\n\t\t\t\t.sort((a, b) => {\n\n\t\t\t\t\tif (a.units[0].score > b.units[0].score) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t\tif (a.units[0].score < b.units[0].score) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\n\t\t\t\t})[ 0 ];\n\t\t\treturn this.current.indexOf(i);\n\t\t}\n\n\t\treturn this.options.visibleUnit - 1;\n\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/main/index.js","// import { Node } from 'quantizer/state';\n// import { isMap } from '../types/types';\n\n/**\n * Creates a new Vec2.\n * @class\n */\n\nclass Vec2 {\n\n\tconstructor(x, y) {\n\n\t\tif ( typeof x === 'object' ) {\n\n\t\t\tthis.set(x);\n\n\t\t} else {\n\n\t\t\tthis.x = x || 0;\n\t\t\tthis.y = y || 0;\n\n\t\t}\n\n\n\n\t}\n\n\tstatic From(obj) {\n\n\t\treturn new Vec2().set(obj);\n\n\t}\n\n\t/**\n\t * Summary two vectors.\n\t *\n\t * @static\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns { Vec2 }\n\t */\n\n\tstatic Add(vec1, vec2) {\n\n\t\treturn new Vec2(vec1.x + vec2.x, vec1.y + vec2.y);\n\n\t}\n\n\t/**\n\t * Subvector two vectors.\n\t *\n\t * @static\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns { Vec2 }\n\t */\n\n\tstatic Sub(vec1, vec2) {\n\n\t\treturn new Vec2(vec1.x - vec2.x, vec1.y - vec2.y);\n\n\t}\n\n\t/**\n\t * Multiply two vectors.\n\t *\n\t * @static\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns { Vec2 }\n\t */\n\n\tstatic Multiply(vec1, vec2) {\n\n\t\treturn new Vec2(vec1.x * vec2.x, vec1.y * vec2.y);\n\n\t}\n\n\t/**\n\t * Divide 2 argument vectors.\n\t *\n\t * @static\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns { Vec2 }\n\t */\n\n\tstatic Divide(vec1, vec2) {\n\n\t\treturn new Vec2(vec1.x / vec2.x, vec1.y / vec2.y);\n\n\t}\n\n\t/**\n\t * Distance between 2 argument vectors.\n\t *\n\t * @static\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns { Number }\n\t */\n\n\tstatic Distance(vec1, vec2) {\n\n\t\treturn Math.sqrt(Math.pow(vec1.x - vec2.x, 2) + Math.pow(vec1.y - vec2.y, 2));\n\n\t}\n\n\t/**\n\t * Dot product\n\t *\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns {number}\n\t */\n\n\tstatic DotProduct(vec1, vec2) {\n\n\t\treturn vec1.x * vec2.x + vec1.y * vec2.y;\n\n\t}\n\n\t/**\n\t * Projecting vector to vector\n\t *\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns { Vec2 }\n\t */\n\n\tstatic Project(vec1, vec2) {\n\n\t\tconst d = vec2.dotProduct(vec2);\n\n\t\tif (d > 0) {\n\n\t\t\tconst dp = vec1.dotProduct(vec2);\n\t\t\tconst multiplier = dp / d;\n\t\t\treturn vec2.multScalar(multiplier);\n\n\t\t}\n\t\treturn new Vec2(0, 0);\n\n\t}\n\n\t/**\n\t * Get angle between two vectors\n\t *\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns {number}\n\t */\n\t\n\tstatic Angle(vec1, vec2) {\n\n\t\treturn vec1.dotProduct(vec2) / (vec1.length * vec2.length);\n\t\t\n\t}\n\n\t/**\n\t * Get vector object.\n\t *\n\t * @returns { Object }\n\t */\n\n\tget() {\n\n\t\tlet result = {};\n\n\t\tif (arguments.length) {\n\n\t\t\tfor (let name in arguments[ 0 ]) {\n\n\t\t\t\tresult[ name ] = this[ name ];\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tresult = {\n\t\t\t\tx: this.x,\n\t\t\t\ty: this.y\n\t\t\t};\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tsub(vec2) {\n\n\t\treturn Vec2.Sub(this, vec2);\n\n\t}\n\n\tadd(vec2) {\n\n\t\treturn Vec2.Add(this, vec2);\n\n\t}\n\n\tmult(vec2) {\n\n\t\treturn Vec2.Multiply(this, vec2);\n\n\t}\n\n\t/**\n\t * Set vector object.\n\t *\n\t * @param { Object } source - Source value.\n\t * @returns { Vec2 }\n\t */\n\n\tset() {\n\n\t\tfor (let name in arguments[ 0 ]) {\n\n\t\t\tthis[ name ] = arguments[ 0 ][ name ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetX(value) {\n\n\t\treturn new Vec2(value, this.y);\n\n\t}\n\n\n\tsetY(value) {\n\n\t\treturn new Vec2(this.x, value);\n\n\t}\n\n\t/**\n\t *  Get vector length.\n\t *\n\t *  @returns { Number }\n\t */\n\n\tget length() {\n\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\n\t}\n\n\t/**\n\t *  Get modified vector by multiply coords.\n\t *\n\t *  @returns { Vec2 }\n\t */\n\n\tmultScalar(scalar) {\n\n\t\treturn new Vec2(this.x * scalar, this.y * scalar);\n\n\t}\n\n\t/**\n\t *  Get inverted vector.\n\t *\n\t *  @returns { Vec2 }\n\t */\n\n\tinvert() {\n\n\t\treturn new Vec2(-this.x, -this.y);\n\n\t}\n\n\t/**\n\t *  Get vector by x coord.\n\t *\n\t *  @returns { Vec2 }\n\t */\n\n\tinvertX() {\n\n\t\treturn new Vec2(-this.x, this.y);\n\n\t}\n\n\t/**\n\t *  Get vector by y coord.\n\t *\n\t *  @returns { Vec2 }\n\t */\n\n\tinvertY() {\n\n\t\treturn new Vec2(this.x, -this.y);\n\n\t}\n\n\t/**\n\t *  Clone vector.\n\t *\n\t *  @returns { Vec2 }\n\t */\n\n\tclone() {\n\n\t\treturn new Vec2(this.x, this.y);\n\n\t}\n\n\t/**\n\t *  Min vector.\n\t *\n\t * @param { Object } vec - min vector.\n\t *  @returns { Vec2 }\n\t */\n\n\tmin(vec) {\n\n\t\tif (this.x < vec.x) {\n\n\t\t\tthis.x = vec.x;\n\n\t\t}\n\n\t\tif (this.y < vec.y) {\n\n\t\t\tthis.y = vec.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t *  Normalize vector.\n\t *\n\t *  @returns { Vec2 }\n\t */\n\n\tnormal() {\n\n\t\treturn new Vec2(Math.abs(this.x), Math.abs(this.y));\n\n\t}\n\n\t/**\n\t *  Max vector.\n\t *\n\t * @param { Object } vec - max vector.\n\t * @returns { Vec2 }\n\t */\n\n\tmax(vec) {\n\n\t\tif (this.x > vec.x) {\n\n\t\t\tthis.x = vec.x;\n\n\t\t}\n\n\t\tif (this.y > vec.y) {\n\n\t\t\tthis.y = vec.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tfromSize(size) {\n\n\t\tthis.set({\n\t\t\tx: size.w,\n\t\t\ty: size.h\n\t\t});\n\n\t}\n\n\ttoSize() {\n\n\t\treturn {\n\t\t\tw: this.x,\n\t\t\th: this.y\n\t\t};\n\n\t}\n\n\tdotProduct(vec) {\n\n\t\treturn Vec2.DotProduct(this, vec);\n\n\t}\n\n\tproject(vec) {\n\n\t\treturn Vec2.Project(this, vec);\n\n\t}\n\n\tangle(vec) {\n\n\t\treturn Vec2.Angle(this, vec);\n\n\t}\n\n}\n\nexport default Vec2;\n\n\n\n// WEBPACK FOOTER //\n// ./src/math/vec2.js","export default class Evolver {\n\n\tconstructor(params) {\n\n\t\tthis.params = {\n\t\t\t...Evolver.DEFAULT_CONFIG,\n\t\t\t...params,\n\t\t}\n\n\t\tthis.population = null;\n\n\t}\n\n\tstatic DEFAULT_CONFIG = {\n\t\tpopulationSize: 10,\n\t\tnumberOfGenes: 10,\n\t\tnumberOfWinners: 2,\n\t\tgenesToMutate: 1,\n\t\tmutationRate: 0.05\n\t}\n\n\tinitRandomPopulation() {\n\n\t\tconst population = [];\n\t\tconst { populationSize, numberOfGenes } = this.params;\n\n\t\tfor (let unit = 0; unit < populationSize; unit++) {\n\n\t\t\tconst genes = [];\n\n\t\t\tfor (let gen = 0; gen < numberOfGenes; gen++) {\n\n\t\t\t\tgenes.push(Math.random());\n\n\t\t\t}\n\n\t\t\tpopulation.push(genes);\n\n\t\t}\n\n\t\tthis.population = population;\n\n\t}\n\n\tcross(genome1, genome2) {\n\n\t\tconst genomes = [genome1, genome2];\n\t\tconst child = [];\n\n\t\tfor (let i = 0; i < this.params.numberOfGenes; i++) {\n\t\t\tchild.push(genomes[ Math.round(Math.random()) ][ i ]);\n\t\t}\n\t\treturn child;\n\n\t}\n\n\tselect(marks) {\n\n\t\tconst marked = this.population.map((unit, key) => ({ unit, mark: marks[ key ] }));\n\t\tmarked.sort((a, b) => {\n\n\t\t\tif (a.mark > b.mark) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (a.mark < b.mark) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn 0;\n\n\t\t});\n\n\t\treturn marked.slice(0, this.params.numberOfWinners);\n\n\t}\n\n\tcrossing(parents) {\n\t\t\n\t\tparents = parents.map(obj => obj.unit);\n\t\tconst res = parents;\n\t\tlet counter = 1;\n\t\tconst _l = parents.length;\n\t\twhile (res.length < this.params.populationSize) {\n\n\t\t\tconst parent1 = parents[ _l - counter % _l - 1];\n\t\t\tconst parent2 = parents[ _l - (counter + 1) % _l - 1];\n\t\t\tconst child = this.cross(parent1, parent2);\n\t\t\tres.push(child);\n\t\t\tcounter++;\n\n\t\t}\n\t\treturn res;\n\t\t\n\t}\n\t\n\tmutate(prepopulation) {\n\t\t\n\t\treturn prepopulation.map(genome => {\n\n\t\t\tfor (let i = 0; i < this.params.genesToMutate; i++) {\n\n\t\t\t\tconst at = Math.round(Math.random() * genome.length - 1);\n\t\t\t\tgenome[ at ]\n\t\t\t\t\t+= this.params.mutationRate * (Math.random() > 0.5 ? 1 : -1);\n\n\t\t\t}\n\n\t\t\treturn genome;\n\n\t\t});\n\t\t\n\t}\n\n\tevolve(marks) {\n\n\t\tthis.population = this\n\t\t\t.mutate(\n\t\t\t\tthis.crossing(\n\t\t\t\t\tthis.select(marks)\n\t\t\t\t)\n\t\t\t);\n\n\t\treturn this.population;\n\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/evolve/index.js","module.exports = function() {\n\treturn new Worker(__webpack_public_path__ + \"a4e38c1823aba5df02bc.worker.js\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/worker-loader!./src/workers/simulator_worker.js\n// module id = 6\n// module chunks = 0","class UIController {\n\n\tconstructor() {\n\n\t\tthis.callback = () => {};\n\n\t}\n\n\tinit(obj) {\n\t\t\n\t\tthis.putButtons(\n\t\t\tobj.options.visibleUnit,\n\t\t\tobj.options.populationSize,\n\t\t\tobj.current.map(u => u.unit)\n\t\t);\n\t\tthis.putPlayPause();\n\t\tthis.setPopulationNum(obj.populationNum);\n\t\tthis.putOptions(obj.evolver.params, obj.options);\n\n\t}\n\n\tsetCallback(func) {\n\n\t\tthis.callback = func;\n\n\t}\n\n\tsetStyle(node, style) {\n\n\t\tfor (let i in style) {\n\n\t\t\tnode.style[ i ] = style[ i ];\n\n\t\t}\n\n\t}\n\t\n\tupdate({ units, visible, highlight, populationNum }) {\n\n\t\tconst cont = document.querySelector('#buttons_cont');\n\t\tif (cont) {\n\t\t\tunits.map((o, key) => {\n\t\t\t\tlet c = cont.children[key];\n\t\t\t\tif (!c || key === cont.children.length - 1) {\n\t\t\t\t\tc = this.createElement(key + 1, visible === key);\n\t\t\t\t\tcont.insertBefore(c, cont.children[cont.children.length - 1]);\n\t\t\t\t}\n\t\t\t\tconst life = Math.max(Math.min(o.life, 100), 0);\n\t\t\t\tconst btn = c.children[ 0 ];\n\t\t\t\tconst graph = c.children[ 1 ];\n\t\t\t\tconst color = `rgb(${\n\t\t\t\t\tMath.round(255 - (life / 100 * 255))\n\t\t\t\t\t}, ${Math.round(life / 100 * 255)}, 0)`;\n\t\t\t\tbtn.style.color = visible === key + 1 ? 'green' : 'black';\n\t\t\t\tbtn.style.fontWeight = visible === key + 1 ? 'bold' : 'normal';\n\t\t\t\tbtn.style.backgroundColor = highlight === key ? 'lightblue' : 'transparent';\n\t\t\t\tgraph.style.height = `${life / 2}px`;\n\t\t\t\tgraph.style.backgroundColor = color;\n\t\t\t\tgraph.innerHTML = o.score;\n\t\t\t});\n\t\t\tif (units.length < cont.children.length - 1) {\n\t\t\t\tfor (let i = units.length; i < cont.children.length - 1; i++) {\n\t\t\t\t\tcont.children[ i ].remove();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.setPopulationNum(populationNum);\n\n\t}\n\n\tcreateElement(i, selected) {\n\n\t\tconst style = {\n\t\t\tborder: '1px solid black',\n\t\t\tfontSize: '16px',\n\t\t\twidth: '30px',\n\t\t\theight: '30px',\n\t\t\tcolor: 'black',\n\t\t\tlineHeight: '30px',\n\t\t\tcursor: 'pointer',\n\t\t\tfontWeight: 'normal'\n\t\t};\n\n\t\tconst selStyle = {\n\t\t\tcolor: 'green',\n\t\t\tfontWeight: 'bold'\n\t\t}\n\n\t\tconst cont = document.createElement('div');\n\t\tcont.id = i;\n\t\tthis.setStyle(cont, {\n\t\t\tdisplay: 'inline-block',\n\t\t\tmarginLeft: '-1px',\n\t\t});\n\t\tconst el = document.createElement('div');\n\t\tthis.setStyle(el, Object.assign({}, style, selected === i ? selStyle : {}));\n\t\tel.innerText = i;\n\t\tel.onclick = () => {\n\t\t\tthis.callback('options', { visibleUnit: i });\n\t\t};\n\n\t\tcont.appendChild(el);\n\n\t\tconst score = document.createElement('div');\n\t\tscore.innerHTML = 0;\n\t\tthis.setStyle(score, {\n\t\t\theight: `50px`,\n\t\t\twidth: '100%',\n\t\t\tbackgroundColor: `green`\n\t\t});\n\n\t\tcont.appendChild(score);\n\n\t\treturn cont;\n\n\t}\n\n\tputButtons(selected, num) {\n\n\t\tconst cont = document.createElement('div');\n\t\tcont.id = 'buttons_cont';\n\n\t\tthis.setStyle(cont, { textAlign: 'center' });\n\n\t\tconst arr = new Array(num)\n\t\t\t.fill(null)\n\t\t\t.map((a, key) => key + 1);\n\t\tarr.push('HS');\n\t\tarr.map((i) => {\n\n\t\t\tconst el = this.createElement(i, selected);\n\t\t\tcont.appendChild(el);\n\n\t\t});\n\t\tdocument.querySelector('#interactive_container').appendChild(cont);\n\n\t}\n\n\tputPlayPause() {\n\n\t\tdocument.querySelector('#play_btn').onclick = () => {\n\t\t\tthis.callback('play');\n\t\t}\n\n\t}\n\n\tsetPopulationNum(num) {\n\n\t\tdocument.querySelector('#population_num').innerHTML = `Population: ${num}`;\n\n\t}\n\n\tputOptions(options, root_opt) {\n\n\t\tconst pop_size = document.querySelector('#pop_size');\n\t\tconst num_win = document.querySelector('#num_win');\n\t\tconst mut_num = document.querySelector('#mut_num');\n\t\tconst mut_rate = document.querySelector('#mut_rate');\n\t\tconst select_fps = document.querySelector('#select_fps');\n\t\tconst speed = document.querySelector('#speed');\n\t\tpop_size.value = options.populationSize;\n\t\tnum_win.value = options.numberOfWinners;\n\t\tmut_num.value = options.genesToMutate;\n\t\tmut_rate.value = options.mutationRate * 100;\n\t\tselect_fps.value = root_opt.FPS;\n\t\tspeed.value = root_opt.speed;\n\t\tspeed.onchange = (e) => {\n\t\t\tthis.callback('options', { speed: parseInt(e.target.value) });\n\t\t};\n\t\tselect_fps.onchange = (e) => {\n\t\t\tthis.callback('options', { FPS: parseInt(e.target.value) });\n\t\t};\n\t\tpop_size.onchange = (e) => {\n\t\t\tnum_win.max = e.target.value;\n\t\t\tif (num_win.value > e.target.value) {\n\t\t\t\tnum_win.value = e.target.value;\n\t\t\t}\n\t\t\tthis.callback('form_options', { populationSize: e.target.value });\n\t\t};\n\t\tnum_win.onchange = (e) => {\n\t\t\tthis.callback('form_options', { numberOfWinners: e.target.value });\n\t\t};\n\t\tmut_num.onchange = (e) => {\n\t\t\tthis.callback('form_options', { genesToMutate: e.target.value });\n\t\t};\n\t\tmut_rate.onchange = (e) => {\n\t\t\tthis.callback('form_options', { mutationRate: e.target.value / 100 });\n\t\t};\n\n\t}\n\n}\n\nexport default new UIController();\n\n\n// WEBPACK FOOTER //\n// ./src/ui_controller.js"],"sourceRoot":""}
{"version":3,"sources":["webpack:///webpack/bootstrap 8a62dc59298ac715a547","webpack:///./src/index.js","webpack:///./src/drawer/index.js","webpack:///./src/main/index.js","webpack:///./src/math/vec2.js","webpack:///./src/evolve/index.js","webpack:///./src/workers/simulator_worker.js","webpack:///./~/worker-loader/createInlineWorker.js","webpack:///./src/ui_controller.js"],"names":["window","PARTS_NUM","UNIT_RAD","FOOD_RAD","LINE_LENGTH","drawer","document","getElementById","MainController","ui","CanvasDrawer","canvas","params","width","height","ctx","getContext","source","end","color","strokeStyle","beginPath","moveTo","x","y","lineTo","stroke","frameData","clear","fillStyle","units","map","drawUnit","food","drawFoodItem","unit","score","lines","radius","font","textAlign","textBaseline","fillText","arc","Math","PI","drawCanvasLine","line","from","to","active","item","fill","clearRect","opts","setCallback","actionHandler","generateFood","options","visibleUnit","populationSize","speed","FPS","evolver","numberOfGenes","numberOfWinners","genesToMutate","mutationRate","current","workers","status","populationNum","prevFrame","init","type","value","Object","assign","setSpeed","setState","Array","round","random","data","row","matrix","i","length","push","slice","population","weights","toMatrix","u","initRandomPopulation","initRound","requestAnimationFrame","frameHandler","toUnits","initWorkers","evolve","getViewebleUnitIndex","drawFrame","life","w","key","terminate","addEventListener","e","checkEnd","postMessage","delay","indexOf","updateUI","update","visible","highlight","Date","now","draw","err","console","log","state","filter","sort","a","b","Vec2","set","result","arguments","name","vec2","Sub","Add","Multiply","scalar","vec","abs","size","h","DotProduct","Project","Angle","sqrt","obj","vec1","pow","d","dotProduct","dp","multiplier","multScalar","Evolver","DEFAULT_CONFIG","genes","gen","genome1","genome2","genomes","child","marks","marked","mark","parents","res","counter","_l","parent1","parent2","cross","prepopulation","at","genome","mutate","crossing","select","UIController","callback","putButtons","putPlayPause","setPopulationNum","putOptions","func","node","style","cont","querySelector","o","c","children","createElement","insertBefore","max","min","btn","graph","fontWeight","backgroundColor","innerHTML","remove","selected","border","fontSize","lineHeight","cursor","selStyle","id","setStyle","display","marginLeft","el","innerText","onclick","appendChild","num","arr","root_opt","pop_size","num_win","mut_num","mut_rate","select_fps","onchange","parseInt","target"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8a62dc59298ac715a547","import CanvasDrawer from './drawer';\nimport MainController from './main';\nimport UIController from './ui_controller';\n\nwindow.PARTS_NUM = 15;\nwindow.UNIT_RAD = 30;\nwindow.FOOD_RAD = 8;\nwindow.LINE_LENGTH = 25;\n\nwindow.drawer = new CanvasDrawer(document.getElementById('canvas'));;\nwindow.MainController = new MainController({ drawer, ui: UIController });\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export default class CanvasDrawer {\n\n\tconstructor(canvas) {\n\n\t\tthis.params = {\n\t\t\twidth: canvas.width,\n\t\t\theight: canvas.height,\n\t\t}\n\n\t\tthis.ctx = canvas.getContext('2d');\n\n\t}\n\n\t// drawSmallPoint(coords, radius, color) {\n\t//\n\t// \tthis.ctx.fillStyle = color;\n\t// \tthis.ctx.beginPath();\n\t// \tthis.ctx.arc(coords.x, coords.y, radius, 0, Math.PI * 2, false);\n\t// \tthis.ctx.fill();\n\t//\n\t// }\n\n\tdrawCanvasLine(source, end, color) {\n\n\t\tthis.ctx.strokeStyle = color;\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.moveTo(source.x,source.y);\n\t\tthis.ctx.lineTo(end.x,end.y);\n\t\tthis.ctx.stroke();\n\n\t}\n\n\tdrawFrame(frameData) {\n\n\t\tthis.clear();\n\n\t\tthis.ctx.strokeStyle = '#40484f';\n\t\tthis.ctx.fillStyle = '#0abe55';\n\n\t\tframeData\n\t\t\t.units\n\t\t\t.map(::this.drawUnit);\n\n\t\tframeData\n\t\t\t.food\n\t\t\t.map(::this.drawFoodItem);\n\n\n\t}\n\n\tdrawUnit(unit) {\n\n\t\tconst { x, y, score, lines } = unit;\n\n\t\tthis.ctx.beginPath();\n\t\tconst radius = UNIT_RAD;\n\n\t\tthis.ctx.font = \"24px Arial\";\n\t\tthis.ctx.textAlign = \"center\";\n\t\tthis.ctx.textBaseline = \"middle\";\n\t\tthis.ctx.strokeStyle = 'black';\n\t\tthis.ctx.fillText(score, unit.x, unit.y);\n\t\tthis.ctx.arc(x, y, radius, 0, Math.PI * 2, false);\n\t\tthis.ctx.stroke();\n\n\t\tlines.map(line =>\n\t\t\tthis.drawCanvasLine(line.from, line.to, line.active ? 'green' : 'black'));\n\n\t}\n\n\tdrawFoodItem(item) {\n\n\t\tconst { x, y } = item;\n\n\t\tthis.ctx.beginPath();\n\t\tconst radius = FOOD_RAD;\n\n\t\tthis.ctx.arc(x, y, radius, 0, Math.PI * 2, false);\n\t\tthis.ctx.fill();\n\n\t}\n\n\tclear() {\n\n\t\tthis.ctx.clearRect(0, 0, this.params.width, this.params.height);\n\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/drawer/index.js","import Vec2 from '../math/vec2';\nimport Evolver from '../evolve';\nimport SimulatorWorker from 'worker-loader?inline!../workers/simulator_worker';\n\nexport default class MainController {\n\n\tconstructor(opts) {\n\n\t\tthis.drawer = opts.drawer;\n\t\tthis.ui = opts.ui;\n\t\tthis.ui.setCallback(::this.actionHandler);\n\n\t\tthis.generateFood();\n\n\t\tthis.options = {\n\t\t\tvisibleUnit: 'HS',\n\t\t\tpopulationSize: 10,\n\t\t\tspeed: 10,\n\t\t\tFPS: 60,\n\t\t}\n\n\t\tthis.evolver = new Evolver({\n\t\t\tpopulationSize: this.options.populationSize,\n\t\t\tnumberOfGenes: 450,\n\t\t\tnumberOfWinners: 3,\n\t\t\tgenesToMutate: 200,\n\t\t\tmutationRate: 0.25\n\t\t});\n\n\t\tthis.current = [];\n\t\tthis.workers = [];\n\t\tthis.status = 'paused';\n\t\tthis.populationNum = 0;\n\t\tthis.prevFrame = 0;\n\n\t\tthis.init();\n\n\t}\n\n\tactionHandler(type, value) {\n\n\t\tswitch (type) {\n\n\t\t\tcase 'options':\n\n\t\t\t\tthis.options = Object.assign(this.options, value);\n\t\t\t\tif (typeof value.speed !== 'undefined') {\n\t\t\t\t\t\n\t\t\t\t\tthis.setSpeed();\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'play':\n\n\t\t\t\tthis.setState(this.status === 'started' ? 'paused' : 'started');\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 'form_options':\n\n\t\t\t\tif (value.populationSize) {\n\t\t\t\t\tthis.options.populationSize = value.populationSize;\n\t\t\t\t}\n\t\t\t\tthis.evolver.params = Object.assign(this.evolver.params, value);\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tgenerateFood() {\n\n\t\tthis.food = new Array(Math.round(Math.random() * 100))\n\t\t\t.fill(null)\n\t\t\t.map(() => {\n\n\t\t\t\treturn new Vec2(\n\t\t\t\t\tMath.random() * 800,\n\t\t\t\t\tMath.random() * 400,\n\t\t\t\t);\n\n\t\t\t});\n\n\t}\n\n\ttoMatrix(data, row) {\n\n\t\tvar matrix = [];\n\t\tfor (var i = 0; i < data.length; i += row) {\n\t\t\tmatrix.push(data.slice(i, i + row));\n\t\t}\n\t\treturn matrix;\n\n\t}\n\n\ttoUnits(population) {\n\n\t\treturn population.map(u => {\n\n\t\t\treturn {\n\t\t\t\tx: 400,\n\t\t\t\ty: 200,\n\t\t\t\tweights: [\n\t\t\t\t\tthis.toMatrix(u.slice(0, u.length / 2), 15),\n\t\t\t\t\tthis.toMatrix(u.slice(u.length / 2, u.length), 15),\n\t\t\t\t]\n\t\t\t};\n\n\t\t});\n\n\t}\n\n\tinit() {\n\n\t\tthis.evolver.initRandomPopulation();\n\t\tthis.ui.init(this);\n\t\tthis.initRound();\n\n\t\trequestAnimationFrame(::this.frameHandler);\n\n\t}\n\n\tinitRound() {\n\n\t\tconst population = this.toUnits(this.evolver.population);\n\t\tthis.generateFood();\n\n\t\tthis.initWorkers(population, this.food);\n\t}\n\n\tevolve() {\n\n\t\tthis.evolver.evolve(this.current.map(u => u.score));\n\t\tthis.populationNum++;\n\n\t}\n\n\tdraw() {\n\n\t\tconst u = this.current[ this.getViewebleUnitIndex() ];\n\t\tif (u) {\n\t\t\tthis.drawer.drawFrame(u);\n\t\t}\n\n\t}\n\n\tinitWorkers(units, food) {\n\n\t\tthis.current = units.map(u => ({\n\t\t\tunits: [{ ...u, life: 100, lines: [], score: 0 }],\n\t\t\tfood: this.food\n\t\t}));\n\n\t\tif (units.length < this.workers.length) {\n\t\t\tthis.workers.map((w, key) => {\n\t\t\t\tif (key >= units.length) {\n\t\t\t\t\tw.terminate();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tunits.map((u, i) => {\n\n\t\t\tif (!this.workers[ i ]) {\n\n\t\t\t\tthis.workers[ i ] = new SimulatorWorker();\n\t\t\t\tthis.workers[ i ].addEventListener('message', (e) => {\n\t\t\t\t\tif (e.data.type === 'STEP_SUCCESS') {\n\t\t\t\t\t\tthis.current[ i ] = e.data.unit;\n\t\t\t\t\t}\n\t\t\t\t\tthis.checkEnd();\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tthis.workers[ i ].postMessage({\n\t\t\t\ttype: 'INIT',\n\t\t\t\tpopulation: [u],\n\t\t\t\tfood,\n\t\t\t\tdelay: this.options.speed\n\t\t\t});\n\n\t\t});\n\n\t}\n\n\tcheckEnd() {\n\n\t\tif (this.current.map(u => u.end).indexOf(false) === -1) {\n\n\t\t\tthis.evolve();\n\t\t\tif (this.options.FPS === 0) {\n\t\t\t\tthis.updateUI();\n\t\t\t}\n\t\t\tthis.initRound();\n\n\t\t}\n\n\t}\n\n\tupdateUI() {\n\n\t\tthis.ui.update({\n\t\t\tunits: this.current.map(u => u.units[0]),\n\t\t\tvisible: this.options.visibleUnit,\n\t\t\thighlight: this.getViewebleUnitIndex(),\n\t\t\tpopulationNum: this.populationNum\n\t\t});\n\n\t}\n\n\tframeHandler() {\n\n\t\trequestAnimationFrame(::this.frameHandler);\n\n\t\tif (Date.now() - this.prevFrame > 1000 / this.options.FPS) {\n\n\t\t\ttry {\n\n\t\t\t\tif (Date.now() % 2 === 0) {\n\n\t\t\t\t\tthis.updateUI();\n\n\t\t\t\t}\n\t\t\t\tthis.draw();\n\n\t\t\t} catch (err) {\n\n\t\t\t\tconsole.log(err);\n\n\t\t\t}\n\n\t\t\tthis.prevFrame = Date.now();\n\n\t\t}\n\n\t}\n\n\tsetSpeed() {\n\t\t\n\t\tthis.workers.map(w => {\n\t\t\t\n\t\t\tw.postMessage({ type: 'CHANGE_DELAY', delay: this.options.speed });\n\t\t\t\n\t\t});\n\t\t\n\t}\n\n\tsetState(status) {\n\n\t\tthis.status = status;\n\n\t\tthis.workers.map(w => {\n\n\t\t\tw.postMessage({ type: 'CHANGE_STATE', state: this.status });\n\n\t\t});\n\n\t}\n\n\tgetViewebleUnitIndex() {\n\n\t\tif (this.options.visibleUnit === 'HS') {\n\t\t\tconst i = this.current\n\t\t\t\t.filter(u => u.units[0].life > 0)\n\t\t\t\t.sort((a, b) => {\n\n\t\t\t\t\tif (a.units[0].score > b.units[0].score) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t\tif (a.units[0].score < b.units[0].score) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\n\t\t\t\t})[ 0 ];\n\t\t\treturn this.current.indexOf(i);\n\t\t}\n\n\t\treturn this.options.visibleUnit - 1;\n\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/main/index.js","// import { Node } from 'quantizer/state';\n// import { isMap } from '../types/types';\n\n/**\n * Creates a new Vec2.\n * @class\n */\n\nclass Vec2 {\n\n\tconstructor(x, y) {\n\n\t\tif ( typeof x === 'object' ) {\n\n\t\t\tthis.set(x);\n\n\t\t} else {\n\n\t\t\tthis.x = x || 0;\n\t\t\tthis.y = y || 0;\n\n\t\t}\n\n\n\n\t}\n\n\tstatic From(obj) {\n\n\t\treturn new Vec2().set(obj);\n\n\t}\n\n\t/**\n\t * Summary two vectors.\n\t *\n\t * @static\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns { Vec2 }\n\t */\n\n\tstatic Add(vec1, vec2) {\n\n\t\treturn new Vec2(vec1.x + vec2.x, vec1.y + vec2.y);\n\n\t}\n\n\t/**\n\t * Subvector two vectors.\n\t *\n\t * @static\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns { Vec2 }\n\t */\n\n\tstatic Sub(vec1, vec2) {\n\n\t\treturn new Vec2(vec1.x - vec2.x, vec1.y - vec2.y);\n\n\t}\n\n\t/**\n\t * Multiply two vectors.\n\t *\n\t * @static\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns { Vec2 }\n\t */\n\n\tstatic Multiply(vec1, vec2) {\n\n\t\treturn new Vec2(vec1.x * vec2.x, vec1.y * vec2.y);\n\n\t}\n\n\t/**\n\t * Divide 2 argument vectors.\n\t *\n\t * @static\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns { Vec2 }\n\t */\n\n\tstatic Divide(vec1, vec2) {\n\n\t\treturn new Vec2(vec1.x / vec2.x, vec1.y / vec2.y);\n\n\t}\n\n\t/**\n\t * Distance between 2 argument vectors.\n\t *\n\t * @static\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns { Number }\n\t */\n\n\tstatic Distance(vec1, vec2) {\n\n\t\treturn Math.sqrt(Math.pow(vec1.x - vec2.x, 2) + Math.pow(vec1.y - vec2.y, 2));\n\n\t}\n\n\t/**\n\t * Dot product\n\t *\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns {number}\n\t */\n\n\tstatic DotProduct(vec1, vec2) {\n\n\t\treturn vec1.x * vec2.x + vec1.y * vec2.y;\n\n\t}\n\n\t/**\n\t * Projecting vector to vector\n\t *\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns { Vec2 }\n\t */\n\n\tstatic Project(vec1, vec2) {\n\n\t\tconst d = vec2.dotProduct(vec2);\n\n\t\tif (d > 0) {\n\n\t\t\tconst dp = vec1.dotProduct(vec2);\n\t\t\tconst multiplier = dp / d;\n\t\t\treturn vec2.multScalar(multiplier);\n\n\t\t}\n\t\treturn new Vec2(0, 0);\n\n\t}\n\n\t/**\n\t * Get angle between two vectors\n\t *\n\t * @param { Vec2 } vec1 - first vector\n\t * @param { Vec2 } vec2 - second vector\n\t * @returns {number}\n\t */\n\t\n\tstatic Angle(vec1, vec2) {\n\n\t\treturn vec1.dotProduct(vec2) / (vec1.length * vec2.length);\n\t\t\n\t}\n\n\t/**\n\t * Get vector object.\n\t *\n\t * @returns { Object }\n\t */\n\n\tget() {\n\n\t\tlet result = {};\n\n\t\tif (arguments.length) {\n\n\t\t\tfor (let name in arguments[ 0 ]) {\n\n\t\t\t\tresult[ name ] = this[ name ];\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tresult = {\n\t\t\t\tx: this.x,\n\t\t\t\ty: this.y\n\t\t\t};\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tsub(vec2) {\n\n\t\treturn Vec2.Sub(this, vec2);\n\n\t}\n\n\tadd(vec2) {\n\n\t\treturn Vec2.Add(this, vec2);\n\n\t}\n\n\tmult(vec2) {\n\n\t\treturn Vec2.Multiply(this, vec2);\n\n\t}\n\n\t/**\n\t * Set vector object.\n\t *\n\t * @param { Object } source - Source value.\n\t * @returns { Vec2 }\n\t */\n\n\tset() {\n\n\t\tfor (let name in arguments[ 0 ]) {\n\n\t\t\tthis[ name ] = arguments[ 0 ][ name ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetX(value) {\n\n\t\treturn new Vec2(value, this.y);\n\n\t}\n\n\n\tsetY(value) {\n\n\t\treturn new Vec2(this.x, value);\n\n\t}\n\n\t/**\n\t *  Get vector length.\n\t *\n\t *  @returns { Number }\n\t */\n\n\tget length() {\n\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\n\t}\n\n\t/**\n\t *  Get modified vector by multiply coords.\n\t *\n\t *  @returns { Vec2 }\n\t */\n\n\tmultScalar(scalar) {\n\n\t\treturn new Vec2(this.x * scalar, this.y * scalar);\n\n\t}\n\n\t/**\n\t *  Get inverted vector.\n\t *\n\t *  @returns { Vec2 }\n\t */\n\n\tinvert() {\n\n\t\treturn new Vec2(-this.x, -this.y);\n\n\t}\n\n\t/**\n\t *  Get vector by x coord.\n\t *\n\t *  @returns { Vec2 }\n\t */\n\n\tinvertX() {\n\n\t\treturn new Vec2(-this.x, this.y);\n\n\t}\n\n\t/**\n\t *  Get vector by y coord.\n\t *\n\t *  @returns { Vec2 }\n\t */\n\n\tinvertY() {\n\n\t\treturn new Vec2(this.x, -this.y);\n\n\t}\n\n\t/**\n\t *  Clone vector.\n\t *\n\t *  @returns { Vec2 }\n\t */\n\n\tclone() {\n\n\t\treturn new Vec2(this.x, this.y);\n\n\t}\n\n\t/**\n\t *  Min vector.\n\t *\n\t * @param { Object } vec - min vector.\n\t *  @returns { Vec2 }\n\t */\n\n\tmin(vec) {\n\n\t\tif (this.x < vec.x) {\n\n\t\t\tthis.x = vec.x;\n\n\t\t}\n\n\t\tif (this.y < vec.y) {\n\n\t\t\tthis.y = vec.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t *  Normalize vector.\n\t *\n\t *  @returns { Vec2 }\n\t */\n\n\tnormal() {\n\n\t\treturn new Vec2(Math.abs(this.x), Math.abs(this.y));\n\n\t}\n\n\t/**\n\t *  Max vector.\n\t *\n\t * @param { Object } vec - max vector.\n\t * @returns { Vec2 }\n\t */\n\n\tmax(vec) {\n\n\t\tif (this.x > vec.x) {\n\n\t\t\tthis.x = vec.x;\n\n\t\t}\n\n\t\tif (this.y > vec.y) {\n\n\t\t\tthis.y = vec.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tfromSize(size) {\n\n\t\tthis.set({\n\t\t\tx: size.w,\n\t\t\ty: size.h\n\t\t});\n\n\t}\n\n\ttoSize() {\n\n\t\treturn {\n\t\t\tw: this.x,\n\t\t\th: this.y\n\t\t};\n\n\t}\n\n\tdotProduct(vec) {\n\n\t\treturn Vec2.DotProduct(this, vec);\n\n\t}\n\n\tproject(vec) {\n\n\t\treturn Vec2.Project(this, vec);\n\n\t}\n\n\tangle(vec) {\n\n\t\treturn Vec2.Angle(this, vec);\n\n\t}\n\n}\n\nexport default Vec2;\n\n\n\n// WEBPACK FOOTER //\n// ./src/math/vec2.js","export default class Evolver {\n\n\tconstructor(params) {\n\n\t\tthis.params = {\n\t\t\t...Evolver.DEFAULT_CONFIG,\n\t\t\t...params,\n\t\t}\n\n\t\tthis.population = null;\n\n\t}\n\n\tstatic DEFAULT_CONFIG = {\n\t\tpopulationSize: 10,\n\t\tnumberOfGenes: 10,\n\t\tnumberOfWinners: 2,\n\t\tgenesToMutate: 1,\n\t\tmutationRate: 0.05\n\t}\n\n\tinitRandomPopulation() {\n\n\t\tconst population = [];\n\t\tconst { populationSize, numberOfGenes } = this.params;\n\n\t\tfor (let unit = 0; unit < populationSize; unit++) {\n\n\t\t\tconst genes = [];\n\n\t\t\tfor (let gen = 0; gen < numberOfGenes; gen++) {\n\n\t\t\t\tgenes.push(Math.random());\n\n\t\t\t}\n\n\t\t\tpopulation.push(genes);\n\n\t\t}\n\n\t\tthis.population = population;\n\n\t}\n\n\tcross(genome1, genome2) {\n\n\t\tconst genomes = [genome1, genome2];\n\t\tconst child = [];\n\n\t\tfor (let i = 0; i < this.params.numberOfGenes; i++) {\n\t\t\tchild.push(genomes[ Math.round(Math.random()) ][ i ]);\n\t\t}\n\t\treturn child;\n\n\t}\n\n\tselect(marks) {\n\n\t\tconst marked = this.population.map((unit, key) => ({ unit, mark: marks[ key ] }));\n\t\tmarked.sort((a, b) => {\n\n\t\t\tif (a.mark > b.mark) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (a.mark < b.mark) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn 0;\n\n\t\t});\n\n\t\treturn marked.slice(0, this.params.numberOfWinners);\n\n\t}\n\n\tcrossing(parents) {\n\t\t\n\t\tparents = parents.map(obj => obj.unit);\n\t\tconst res = parents;\n\t\tlet counter = 1;\n\t\tconst _l = parents.length;\n\t\twhile (res.length < this.params.populationSize) {\n\n\t\t\tconst parent1 = parents[ _l - counter % _l - 1];\n\t\t\tconst parent2 = parents[ _l - (counter + 1) % _l - 1];\n\t\t\tconst child = this.cross(parent1, parent2);\n\t\t\tres.push(child);\n\t\t\tcounter++;\n\n\t\t}\n\t\treturn res;\n\t\t\n\t}\n\t\n\tmutate(prepopulation) {\n\t\t\n\t\treturn prepopulation.map(genome => {\n\n\t\t\tfor (let i = 0; i < this.params.genesToMutate; i++) {\n\n\t\t\t\tconst at = Math.round(Math.random() * genome.length - 1);\n\t\t\t\tgenome[ at ]\n\t\t\t\t\t+= this.params.mutationRate * (Math.random() > 0.5 ? 1 : -1);\n\n\t\t\t}\n\n\t\t\treturn genome;\n\n\t\t});\n\t\t\n\t}\n\n\tevolve(marks) {\n\n\t\tthis.population = this\n\t\t\t.mutate(\n\t\t\t\tthis.crossing(\n\t\t\t\t\tthis.select(marks)\n\t\t\t\t)\n\t\t\t);\n\n\t\treturn this.population;\n\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/evolve/index.js","module.exports = function() {\n\treturn require(\"!!/Users/worldthirteen/Documents/Projects/neuro-test/node_modules/worker-loader/createInlineWorker.js\")(\"/******/ (function(modules) { // webpackBootstrap\\n/******/ \\t// The module cache\\n/******/ \\tvar installedModules = {};\\n/******/\\n/******/ \\t// The require function\\n/******/ \\tfunction __webpack_require__(moduleId) {\\n/******/\\n/******/ \\t\\t// Check if module is in cache\\n/******/ \\t\\tif(installedModules[moduleId])\\n/******/ \\t\\t\\treturn installedModules[moduleId].exports;\\n/******/\\n/******/ \\t\\t// Create a new module (and put it into the cache)\\n/******/ \\t\\tvar module = installedModules[moduleId] = {\\n/******/ \\t\\t\\texports: {},\\n/******/ \\t\\t\\tid: moduleId,\\n/******/ \\t\\t\\tloaded: false\\n/******/ \\t\\t};\\n/******/\\n/******/ \\t\\t// Execute the module function\\n/******/ \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n/******/\\n/******/ \\t\\t// Flag the module as loaded\\n/******/ \\t\\tmodule.loaded = true;\\n/******/\\n/******/ \\t\\t// Return the exports of the module\\n/******/ \\t\\treturn module.exports;\\n/******/ \\t}\\n/******/\\n/******/\\n/******/ \\t// expose the modules object (__webpack_modules__)\\n/******/ \\t__webpack_require__.m = modules;\\n/******/\\n/******/ \\t// expose the module cache\\n/******/ \\t__webpack_require__.c = installedModules;\\n/******/\\n/******/ \\t// __webpack_public_path__\\n/******/ \\t__webpack_require__.p = \\\"/\\\";\\n/******/\\n/******/ \\t// Load entry module and return exports\\n/******/ \\treturn __webpack_require__(0);\\n/******/ })\\n/************************************************************************/\\n/******/ ([\\n/* 0 */\\n/***/ function(module, exports, __webpack_require__) {\\n\\n\\t'use strict';\\n\\t\\n\\tObject.defineProperty(exports, \\\"__esModule\\\", {\\n\\t\\tvalue: true\\n\\t});\\n\\t\\n\\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\t\\n\\tvar _simulator = __webpack_require__(1);\\n\\t\\n\\tvar _simulator2 = _interopRequireDefault(_simulator);\\n\\t\\n\\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\t\\n\\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\t\\n\\tvar SimulatorWorker = function () {\\n\\t\\tfunction SimulatorWorker() {\\n\\t\\t\\t_classCallCheck(this, SimulatorWorker);\\n\\t\\n\\t\\t\\tthis.simulator = new _simulator2.default();\\n\\t\\t\\tself.addEventListener('message', this.onMessage.bind(this));\\n\\t\\t\\tthis.delay = 10;\\n\\t\\t}\\n\\t\\n\\t\\t_createClass(SimulatorWorker, [{\\n\\t\\t\\tkey: 'init',\\n\\t\\t\\tvalue: function init(population, food) {\\n\\t\\n\\t\\t\\t\\tthis.simulator.init(population, food);\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'start',\\n\\t\\t\\tvalue: function start() {\\n\\t\\t\\t\\tvar _this = this;\\n\\t\\n\\t\\t\\t\\tclearInterval(this.interval);\\n\\t\\t\\t\\tthis.interval = setInterval(function () {\\n\\t\\t\\t\\t\\t_this.step();\\n\\t\\t\\t\\t}, this.delay);\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'pause',\\n\\t\\t\\tvalue: function pause() {\\n\\t\\n\\t\\t\\t\\tclearInterval(this.interval);\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'step',\\n\\t\\t\\tvalue: function step() {\\n\\t\\n\\t\\t\\t\\ttry {\\n\\t\\n\\t\\t\\t\\t\\tvar res = this.simulator.step()[0];\\n\\t\\t\\t\\t\\tif (res.end) {\\n\\t\\n\\t\\t\\t\\t\\t\\tthis.pause();\\n\\t\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\t\\tpostMessage({ type: 'STEP_SUCCESS', unit: res });\\n\\t\\t\\t\\t} catch (err) {\\n\\t\\n\\t\\t\\t\\t\\tthis.pause();\\n\\t\\t\\t\\t\\tconsole.warn(err);\\n\\t\\t\\t\\t\\tpostMessage({ type: 'STEP_ERROR', err: err.message });\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'onMessage',\\n\\t\\t\\tvalue: function onMessage(e) {\\n\\t\\t\\t\\tvar _e$data = e.data,\\n\\t\\t\\t\\t    type = _e$data.type,\\n\\t\\t\\t\\t    population = _e$data.population,\\n\\t\\t\\t\\t    food = _e$data.food,\\n\\t\\t\\t\\t    delay = _e$data.delay,\\n\\t\\t\\t\\t    state = _e$data.state;\\n\\t\\n\\t\\n\\t\\t\\t\\tswitch (type) {\\n\\t\\n\\t\\t\\t\\t\\tcase 'INIT':\\n\\t\\n\\t\\t\\t\\t\\t\\tthis.init(population, food);\\n\\t\\t\\t\\t\\t\\tif (typeof delay !== 'undefined') {\\n\\t\\t\\t\\t\\t\\t\\tthis.delay = delay;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tthis.start();\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\n\\t\\t\\t\\t\\tcase 'CHANGE_DELAY':\\n\\t\\n\\t\\t\\t\\t\\t\\tthis.delay = delay;\\n\\t\\t\\t\\t\\t\\tthis.pause();\\n\\t\\t\\t\\t\\t\\tthis.start();\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\n\\t\\t\\t\\t\\tcase 'CHANGE_STATE':\\n\\t\\n\\t\\t\\t\\t\\t\\tif (state === 'paused') {\\n\\t\\t\\t\\t\\t\\t\\tthis.pause();\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tthis.start();\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\n\\t\\t\\t\\t\\tdefault:\\n\\t\\t\\t\\t\\t\\treturn false;\\n\\t\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn true;\\n\\t\\t\\t}\\n\\t\\t}]);\\n\\t\\n\\t\\treturn SimulatorWorker;\\n\\t}();\\n\\t\\n\\texports.default = new SimulatorWorker();\\n\\n/***/ },\\n/* 1 */\\n/***/ function(module, exports, __webpack_require__) {\\n\\n\\t'use strict';\\n\\t\\n\\tObject.defineProperty(exports, \\\"__esModule\\\", {\\n\\t\\tvalue: true\\n\\t});\\n\\texports.default = undefined;\\n\\t\\n\\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\\n\\t\\n\\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\t\\n\\tvar _network = __webpack_require__(2);\\n\\t\\n\\tvar _network2 = _interopRequireDefault(_network);\\n\\t\\n\\tvar _vec2 = __webpack_require__(7);\\n\\t\\n\\tvar _vec3 = _interopRequireDefault(_vec2);\\n\\t\\n\\tvar _world = __webpack_require__(8);\\n\\t\\n\\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\t\\n\\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\t\\n\\tvar NETWORK_PARAMS = function NETWORK_PARAMS(weights) {\\n\\t\\treturn {\\n\\t\\t\\tlayers: [{\\n\\t\\t\\t\\tweights: weights[0],\\n\\t\\t\\t\\tlength: weights[0].length,\\n\\t\\t\\t\\tactivateFunction: 'sigmoid'\\n\\t\\t\\t}, {\\n\\t\\t\\t\\tweights: weights[1],\\n\\t\\t\\t\\tlength: weights[1].length,\\n\\t\\t\\t\\tactivateFunction: 'sigmoid'\\n\\t\\t\\t}]\\n\\t\\t};\\n\\t};\\n\\t\\n\\tvar Simulator = function () {\\n\\t\\tfunction Simulator() {\\n\\t\\t\\t_classCallCheck(this, Simulator);\\n\\t\\n\\t\\t\\tthis.rooms = [{\\n\\t\\t\\t\\tunits: [],\\n\\t\\t\\t\\tfoods: []\\n\\t\\t\\t}];\\n\\t\\t}\\n\\t\\n\\t\\t_createClass(Simulator, [{\\n\\t\\t\\tkey: 'init',\\n\\t\\t\\tvalue: function init(units, foods) {\\n\\t\\n\\t\\t\\t\\tthis.rooms = units.map(function (u) {\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\tunit: _extends({}, u, {\\n\\t\\t\\t\\t\\t\\t\\tscore: 0,\\n\\t\\t\\t\\t\\t\\t\\tmind: new _network2.default(NETWORK_PARAMS(u.weights)),\\n\\t\\t\\t\\t\\t\\t\\tlife: 100,\\n\\t\\t\\t\\t\\t\\t\\tfine: 0,\\n\\t\\t\\t\\t\\t\\t\\tprevMovement: new _vec3.default(0, 0)\\n\\t\\t\\t\\t\\t\\t}),\\n\\t\\t\\t\\t\\t\\tfoods: foods.map(function (food) {\\n\\t\\t\\t\\t\\t\\t\\treturn new _vec3.default(food);\\n\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'findCollisions',\\n\\t\\t\\tvalue: function findCollisions(source, end, key) {\\n\\t\\n\\t\\t\\t\\treturn this.rooms[key].foods.map(function (circlePoint) {\\n\\t\\n\\t\\t\\t\\t\\tvar main_vector = end.sub(source);\\n\\t\\n\\t\\t\\t\\t\\tvar point = circlePoint.sub(source).project(main_vector);\\n\\t\\t\\t\\t\\tvar _vec = point.add(source).sub(circlePoint);\\n\\t\\n\\t\\t\\t\\t\\tvar radius = _world.FOOD_RAD;\\n\\t\\t\\t\\t\\tvar vec_length = _vec.length;\\n\\t\\t\\t\\t\\tvar begintInter = source.sub(circlePoint).length < radius;\\n\\t\\t\\t\\t\\tvar endInter = end.sub(circlePoint).length < radius;\\n\\t\\n\\t\\t\\t\\t\\tvar isInterruct = vec_length < radius && _vec3.default.DotProduct(point, main_vector) >= 0 && main_vector.length >= point.length;\\n\\t\\t\\t\\t\\tvar interSect = isInterruct || begintInter || endInter;\\n\\t\\n\\t\\t\\t\\t\\tif (interSect) {\\n\\t\\n\\t\\t\\t\\t\\t\\tvar projectedPoint = point.add(source);\\n\\t\\t\\t\\t\\t\\tvar ort = main_vector.multScalar(1 / main_vector.length);\\n\\t\\t\\t\\t\\t\\tvar l = Math.sqrt(radius * radius - vec_length * vec_length) * 2;\\n\\t\\n\\t\\t\\t\\t\\t\\tvar p1 = projectedPoint.sub(ort.multScalar(l / 2));\\n\\t\\t\\t\\t\\t\\tvar p2 = projectedPoint.add(ort.multScalar(l / 2));\\n\\t\\n\\t\\t\\t\\t\\t\\tvar filtered = [p1, p2].filter(function (p) {\\n\\t\\t\\t\\t\\t\\t\\treturn (p.x >= source.x && p.x <= end.x || p.x <= source.x && p.x >= end.x) && (p.y >= source.y && p.y <= end.y || p.y <= source.y && p.y >= end.y);\\n\\t\\t\\t\\t\\t\\t}).sort(function (a, b) {\\n\\t\\n\\t\\t\\t\\t\\t\\t\\tvar _a = _vec3.default.Sub(a, source).length;\\n\\t\\t\\t\\t\\t\\t\\tvar _b = _vec3.default.Sub(b, source).length;\\n\\t\\n\\t\\t\\t\\t\\t\\t\\tif (_a > _b) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn 1;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\t\\t\\t\\tif (_a > _b) {\\n\\t\\t\\t\\t\\t\\t\\t\\treturn -1;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\t\\t\\t\\treturn 0;\\n\\t\\t\\t\\t\\t\\t})[0];\\n\\t\\n\\t\\t\\t\\t\\t\\tif (filtered) {\\n\\t\\n\\t\\t\\t\\t\\t\\t\\treturn filtered;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'processLine',\\n\\t\\t\\tvalue: function processLine(start, end, key) {\\n\\t\\n\\t\\t\\t\\tvar endPoints = [end].concat(this.findCollisions(start, end, key));\\n\\t\\t\\t\\tvar min = end.sub(start).length;\\n\\t\\t\\t\\tvar res = end;\\n\\t\\t\\t\\tvar active = false;\\n\\t\\t\\t\\tendPoints.map(function (p) {\\n\\t\\n\\t\\t\\t\\t\\tif (p) {\\n\\t\\t\\t\\t\\t\\tvar length = p.sub(start).length;\\n\\t\\t\\t\\t\\t\\tif (length < min) {\\n\\t\\t\\t\\t\\t\\t\\tactive = true;\\n\\t\\t\\t\\t\\t\\t\\tmin = length;\\n\\t\\t\\t\\t\\t\\t\\tres = p;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn p;\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\tfrom: start,\\n\\t\\t\\t\\t\\tto: res,\\n\\t\\t\\t\\t\\tactive: active\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'getUnitLines',\\n\\t\\t\\tvalue: function getUnitLines(unit, key) {\\n\\t\\n\\t\\t\\t\\tvar full = Math.PI * 2;\\n\\t\\t\\t\\tvar part = full / _world.PARTS_NUM;\\n\\t\\t\\t\\tvar curDeg = -part;\\n\\t\\t\\t\\tvar res = [];\\n\\t\\n\\t\\t\\t\\tfor (var i = 0; i < _world.PARTS_NUM; i++) {\\n\\t\\n\\t\\t\\t\\t\\tcurDeg += part;\\n\\t\\t\\t\\t\\tvar vec = new _vec3.default(Math.cos(curDeg), Math.sin(curDeg));\\n\\t\\n\\t\\t\\t\\t\\tres.push(this.processLine(new _vec3.default(unit).add(vec.multScalar(_world.UNIT_RAD)), new _vec3.default(unit).add(vec.multScalar(_world.UNIT_RAD)).add(vec.multScalar(_world.LINE_LENGTH)), key));\\n\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\treturn res;\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'getUnitSignals',\\n\\t\\t\\tvalue: function getUnitSignals(lines) {\\n\\t\\n\\t\\t\\t\\treturn lines.map(function (line) {\\n\\t\\t\\t\\t\\treturn Math.round((_world.LINE_LENGTH - Math.min(line.to.sub(line.from).length, 25)) * 1000) / 1000 / _world.LINE_LENGTH;\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'moveUnit',\\n\\t\\t\\tvalue: function moveUnit(movement, key) {\\n\\t\\n\\t\\t\\t\\tvar full = Math.PI * 2;\\n\\t\\t\\t\\tvar part = full / _world.PARTS_NUM;\\n\\t\\t\\t\\tvar curDeg = -part;\\n\\t\\t\\t\\tvar x = 0;\\n\\t\\t\\t\\tvar y = 0;\\n\\t\\n\\t\\t\\t\\tfor (var i = 0; i < _world.PARTS_NUM; i++) {\\n\\t\\n\\t\\t\\t\\t\\tcurDeg += part;\\n\\t\\t\\t\\t\\tx += movement[i] * Math.cos(curDeg) * 2;\\n\\t\\t\\t\\t\\ty += movement[i] * Math.sin(curDeg) * 2;\\n\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\tvar coords = new _vec3.default(this.rooms[key].unit.x + x, this.rooms[key].unit.y + y).max(new _vec3.default(800 - _world.UNIT_RAD, 400 - _world.UNIT_RAD)).min(new _vec3.default(0 + _world.UNIT_RAD, 0 + _world.UNIT_RAD));\\n\\t\\n\\t\\t\\t\\tthis.rooms[key].unit = this.checkMovement(this.rooms[key].unit, x, y, coords);\\n\\t\\n\\t\\t\\t\\tthis.rooms[key].unit.prevMovement = new _vec3.default(x, y);\\n\\t\\t\\t\\tthis.rooms[key].unit.x = coords.x;\\n\\t\\t\\t\\tthis.rooms[key].unit.y = coords.y;\\n\\t\\n\\t\\t\\t\\treturn this.rooms[key].unit;\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'checkMovement',\\n\\t\\t\\tvalue: function checkMovement(unit, x, y, coords) {\\n\\t\\t\\t\\tvar diff = Math.abs(unit.x - coords.x) + Math.abs(unit.y - coords.y);\\n\\t\\n\\t\\t\\t\\tif (new _vec3.default(x, y).add(unit.prevMovement).length <= 0.05) {\\n\\t\\t\\t\\t\\tunit.fine += 1;\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tif (diff < 0.1 && diff > 0.001) {\\n\\t\\t\\t\\t\\t\\tunit.life -= 0.5 - diff;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tif (diff < 0.001) {\\n\\t\\t\\t\\t\\t\\tif (unit.fine === 50) {\\n\\t\\t\\t\\t\\t\\t\\tunit.life = 0;\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tunit.fine += 1;\\n\\t\\t\\t\\t\\t\\t\\tunit.life -= 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tunit.fine = 0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\treturn unit;\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'checkEat',\\n\\t\\t\\tvalue: function checkEat(unit, key) {\\n\\t\\t\\t\\tvar _this = this;\\n\\t\\n\\t\\t\\t\\tthis.rooms[key].foods.map(function (food, _key) {\\n\\t\\n\\t\\t\\t\\t\\tif (_vec3.default.Sub(food, unit).length < _world.UNIT_RAD + _world.FOOD_RAD) {\\n\\t\\n\\t\\t\\t\\t\\t\\t_this.rooms[key].foods.splice(_key, 1);\\n\\t\\t\\t\\t\\t\\t_this.rooms[key].unit.score += 1;\\n\\t\\t\\t\\t\\t\\t_this.rooms[key].unit.life += 40;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\n\\t\\t\\t\\treturn this.rooms[key].unit.score;\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'step',\\n\\t\\t\\tvalue: function step() {\\n\\t\\t\\t\\tvar _this2 = this;\\n\\t\\n\\t\\t\\t\\treturn this.rooms.map(function (room, key) {\\n\\t\\n\\t\\t\\t\\t\\tvar lines = _this2.getUnitLines(room.unit, key);\\n\\t\\t\\t\\t\\tvar score = _this2.rooms[key].unit.score;\\n\\t\\t\\t\\t\\tif (room.unit.life > 0) {\\n\\t\\t\\t\\t\\t\\tvar signals = _this2.getUnitSignals(lines);\\n\\t\\t\\t\\t\\t\\tvar movement = room.unit.mind.process(signals);\\n\\t\\t\\t\\t\\t\\tvar movedUnit = _this2.moveUnit(movement, key);\\n\\t\\t\\t\\t\\t\\tscore = _this2.checkEat(movedUnit, key);\\n\\t\\t\\t\\t\\t\\t_this2.rooms[key].unit.life += -0.1;\\n\\t\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\tunits: [{\\n\\t\\t\\t\\t\\t\\t\\tx: _this2.rooms[key].unit.x,\\n\\t\\t\\t\\t\\t\\t\\ty: _this2.rooms[key].unit.y,\\n\\t\\t\\t\\t\\t\\t\\tradius: _world.UNIT_RAD,\\n\\t\\t\\t\\t\\t\\t\\tlines: lines,\\n\\t\\t\\t\\t\\t\\t\\tscore: score,\\n\\t\\t\\t\\t\\t\\t\\tlife: _this2.rooms[key].unit.life\\n\\t\\t\\t\\t\\t\\t}],\\n\\t\\t\\t\\t\\t\\tfood: _this2.rooms[key].foods,\\n\\t\\t\\t\\t\\t\\tend: _this2.rooms[key].unit.life <= 0\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}]);\\n\\t\\n\\t\\treturn Simulator;\\n\\t}();\\n\\t\\n\\texports.default = Simulator;\\n\\n/***/ },\\n/* 2 */\\n/***/ function(module, exports, __webpack_require__) {\\n\\n\\t'use strict';\\n\\t\\n\\tObject.defineProperty(exports, \\\"__esModule\\\", {\\n\\t\\tvalue: true\\n\\t});\\n\\texports.default = undefined;\\n\\t\\n\\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\\n\\t\\n\\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\t\\n\\tvar _class, _temp;\\n\\t\\n\\tvar _layer = __webpack_require__(3);\\n\\t\\n\\tvar _layer2 = _interopRequireDefault(_layer);\\n\\t\\n\\tvar _activate_functions = __webpack_require__(6);\\n\\t\\n\\tvar _activate_functions2 = _interopRequireDefault(_activate_functions);\\n\\t\\n\\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\t\\n\\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\t\\n\\tvar Network = (_temp = _class = function () {\\n\\t\\tfunction Network(params) {\\n\\t\\t\\t_classCallCheck(this, Network);\\n\\t\\n\\t\\t\\tthis.params = _extends({}, Network.defaultParams, params);\\n\\t\\n\\t\\t\\tthis.layers = this.params.layers.map(function (p) {\\n\\t\\t\\t\\treturn new _layer2.default(p);\\n\\t\\t\\t});\\n\\t\\t}\\n\\t\\n\\t\\t_createClass(Network, [{\\n\\t\\t\\tkey: 'addLayer',\\n\\t\\t\\tvalue: function addLayer(params) {\\n\\t\\n\\t\\t\\t\\tthis.layers.push(new _layer2.default(params));\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'process',\\n\\t\\t\\tvalue: function process(input) {\\n\\t\\n\\t\\t\\t\\tif (!this.layers.length) {\\n\\t\\n\\t\\t\\t\\t\\t// return Promise.resolve(null);\\n\\t\\t\\t\\t\\treturn null;\\n\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\t// return new Promise((resolve, reject) => {\\n\\t\\n\\t\\t\\t\\tfor (var i = 0; i < this.layers.length; i++) {\\n\\t\\n\\t\\t\\t\\t\\tvar _in = i == 0 ? input : this.layers[i - 1].signals;\\n\\t\\t\\t\\t\\tthis.layers[i].process(_in);\\n\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\treturn this.layers[this.layers.length - 1].signals;\\n\\t\\n\\t\\t\\t\\t// });\\n\\t\\t\\t}\\n\\t\\t}]);\\n\\t\\n\\t\\treturn Network;\\n\\t}(), _class.defaultParams = {\\n\\t\\tlayers: []\\n\\t}, _class.ACTIVATE_FUNCTIONS = _activate_functions2.default, _temp);\\n\\texports.default = Network;\\n\\n/***/ },\\n/* 3 */\\n/***/ function(module, exports, __webpack_require__) {\\n\\n\\t'use strict';\\n\\t\\n\\tObject.defineProperty(exports, \\\"__esModule\\\", {\\n\\t\\tvalue: true\\n\\t});\\n\\texports.default = undefined;\\n\\t\\n\\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\\n\\t\\n\\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\t\\n\\tvar _class, _temp;\\n\\t\\n\\tvar _neuron = __webpack_require__(4);\\n\\t\\n\\tvar _neuron2 = _interopRequireDefault(_neuron);\\n\\t\\n\\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\t\\n\\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\t\\n\\tvar Layer = (_temp = _class = function () {\\n\\t\\tfunction Layer(params) {\\n\\t\\t\\tvar _this = this;\\n\\t\\n\\t\\t\\t_classCallCheck(this, Layer);\\n\\t\\n\\t\\t\\tthis.params = _extends({}, Layer.defaultParams, params);\\n\\t\\n\\t\\t\\tthis.neurons = new Array(this.params.length).fill(null).map(function (n, key) {\\n\\t\\t\\t\\treturn new _neuron2.default({\\n\\t\\t\\t\\t\\tweights: _this.params.weights[key] || [],\\n\\t\\t\\t\\t\\tdomain: _this.params.domain,\\n\\t\\t\\t\\t\\tdefaultOut: _this.params.defaultOut,\\n\\t\\t\\t\\t\\tactivateFunction: _this.params.activateFunction\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\t\\n\\t\\t\\tthis.out = this.params.defaultOut;\\n\\t\\t}\\n\\t\\n\\t\\t_createClass(Layer, [{\\n\\t\\t\\tkey: 'addNeuron',\\n\\t\\t\\tvalue: function addNeuron(params) {\\n\\t\\n\\t\\t\\t\\tthis.neurons.push(new _neuron2.default(_extends({\\n\\t\\t\\t\\t\\tweights: [],\\n\\t\\t\\t\\t\\tdomain: this.params.domain,\\n\\t\\t\\t\\t\\tdefaultOut: this.params.defaultOut,\\n\\t\\t\\t\\t\\tactivateFunction: this.params.activateFunction\\n\\t\\t\\t\\t}, params)));\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'process',\\n\\t\\t\\tvalue: function process(signals) {\\n\\t\\n\\t\\t\\t\\tthis.out = this.neurons.map(function (neuron) {\\n\\t\\t\\t\\t\\treturn neuron.process(signals);\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\treturn this.out;\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'signals',\\n\\t\\t\\tget: function get() {\\n\\t\\n\\t\\t\\t\\treturn this.out;\\n\\t\\t\\t}\\n\\t\\t}]);\\n\\t\\n\\t\\treturn Layer;\\n\\t}(), _class.defaultParams = {\\n\\t\\tweights: [],\\n\\t\\tdomain: [0, 1],\\n\\t\\tdefaultOut: 0,\\n\\t\\tactivateFunction: 'threshold',\\n\\t\\tlength: 0\\n\\t}, _temp);\\n\\texports.default = Layer;\\n\\n/***/ },\\n/* 4 */\\n/***/ function(module, exports, __webpack_require__) {\\n\\n\\t'use strict';\\n\\t\\n\\tObject.defineProperty(exports, \\\"__esModule\\\", {\\n\\t\\tvalue: true\\n\\t});\\n\\texports.default = undefined;\\n\\t\\n\\tvar _typeof = typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; };\\n\\t\\n\\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\\n\\t\\n\\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\t\\n\\tvar _class, _temp;\\n\\t\\n\\tvar _ready_functions = __webpack_require__(5);\\n\\t\\n\\tvar _ready_functions2 = _interopRequireDefault(_ready_functions);\\n\\t\\n\\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\t\\n\\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\t\\n\\tvar Neuron = (_temp = _class = function () {\\n\\t\\tfunction Neuron(params) {\\n\\t\\t\\t_classCallCheck(this, Neuron);\\n\\t\\n\\t\\t\\tthis.params = _extends({}, Neuron.defaultParams, params);\\n\\t\\n\\t\\t\\tthis.activationFunc = Neuron.GetActivationFunc(this.params.activateFunction);\\n\\t\\t\\tthis.out = this.params.defaultOut;\\n\\t\\t}\\n\\t\\n\\t\\t_createClass(Neuron, [{\\n\\t\\t\\tkey: 'process',\\n\\t\\t\\tvalue: function process(signals) {\\n\\t\\n\\t\\t\\t\\tthis.out = this.activationFunc(this.sum(signals));\\n\\t\\t\\t\\treturn this.out;\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'sum',\\n\\t\\t\\tvalue: function sum(signals) {\\n\\t\\n\\t\\t\\t\\tvar sum = 0;\\n\\t\\n\\t\\t\\t\\tfor (var i = 0; i < signals.length; i++) {\\n\\t\\n\\t\\t\\t\\t\\tvar weight = this.params.weights[i];\\n\\t\\n\\t\\t\\t\\t\\tif (!Number.isFinite(weight) || !Number.isFinite(signals[i])) {\\n\\t\\n\\t\\t\\t\\t\\t\\tthrow new Error('Signal or weight is not finite: weight ' + weight + ', signal ' + signals[i]);\\n\\t\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\t\\tsum += signals[i] * weight;\\n\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\treturn sum;\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'signal',\\n\\t\\t\\tget: function get() {\\n\\t\\n\\t\\t\\t\\treturn this.out;\\n\\t\\t\\t}\\n\\t\\t}], [{\\n\\t\\t\\tkey: 'GetActivationFunc',\\n\\t\\t\\tvalue: function GetActivationFunc(func) {\\n\\t\\n\\t\\t\\t\\tswitch (typeof func === 'undefined' ? 'undefined' : _typeof(func)) {\\n\\t\\n\\t\\t\\t\\t\\tcase 'function':\\n\\t\\n\\t\\t\\t\\t\\t\\treturn func;\\n\\t\\n\\t\\t\\t\\t\\tcase 'string':\\n\\t\\n\\t\\t\\t\\t\\t\\treturn _ready_functions2.default[func];\\n\\t\\n\\t\\t\\t\\t\\tdefault:\\n\\t\\n\\t\\t\\t\\t\\t\\tthrow new Error('Neuron\\\\'s \\\\'activateFunction\\\\' param must be a string of function');\\n\\t\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}]);\\n\\t\\n\\t\\treturn Neuron;\\n\\t}(), _class.defaultParams = {\\n\\t\\tweights: [],\\n\\t\\tdomain: [0, 1],\\n\\t\\tdefaultOut: 0,\\n\\t\\tactivateFunction: 'threshold'\\n\\t}, _temp);\\n\\texports.default = Neuron;\\n\\n/***/ },\\n/* 5 */\\n/***/ function(module, exports, __webpack_require__) {\\n\\n\\t'use strict';\\n\\t\\n\\tObject.defineProperty(exports, \\\"__esModule\\\", {\\n\\t\\tvalue: true\\n\\t});\\n\\t\\n\\tvar _activate_functions = __webpack_require__(6);\\n\\t\\n\\tvar _activate_functions2 = _interopRequireDefault(_activate_functions);\\n\\t\\n\\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\t\\n\\tvar functions = {};\\n\\t\\n\\tObject.keys(_activate_functions2.default).map(function (key) {\\n\\t\\n\\t\\tvar func = function func() {};\\n\\t\\n\\t\\tswitch (key) {\\n\\t\\n\\t\\t\\tcase 'threshold':\\n\\t\\n\\t\\t\\t\\tfunc = _activate_functions2.default[key].bind(null, 0, 1, 0.5);\\n\\t\\n\\t\\t\\tcase 'gisterezis':\\n\\t\\n\\t\\t\\t\\tfunc = _activate_functions2.default[key].bind(null, 0, 1, 0.35, 0.65);\\n\\t\\n\\t\\t\\tcase 'sigmoid':\\n\\t\\n\\t\\t\\t\\tfunc = _activate_functions2.default[key].bind(null, 0, 1, 1);\\n\\t\\n\\t\\t}\\n\\t\\n\\t\\tfunctions[key] = func;\\n\\t});\\n\\t\\n\\texports.default = functions;\\n\\n/***/ },\\n/* 6 */\\n/***/ function(module, exports) {\\n\\n\\t'use strict';\\n\\t\\n\\tObject.defineProperty(exports, \\\"__esModule\\\", {\\n\\t\\tvalue: true\\n\\t});\\n\\texports.default = {\\n\\t\\n\\t\\t'threshold': function threshold(min, max, t, s) {\\n\\t\\n\\t\\t\\treturn s > t ? max : min;\\n\\t\\t},\\n\\t\\t'gisterezis': function gisterezis(min, max, p1, p2, s) {\\n\\t\\n\\t\\t\\treturn s <= p1 ? min : s >= p2 ? max : min + (max - min) * ((s - p1) / (p2 - p1));\\n\\t\\t},\\n\\t\\t'sigmoid': function sigmoid(min, max, A, s) {\\n\\t\\n\\t\\t\\treturn 1 / (1 + Math.exp(-A * (s - (max - min) / 2)));\\n\\t\\t}\\n\\t\\n\\t};\\n\\n/***/ },\\n/* 7 */\\n/***/ function(module, exports) {\\n\\n\\t'use strict';\\n\\t\\n\\tObject.defineProperty(exports, \\\"__esModule\\\", {\\n\\t\\tvalue: true\\n\\t});\\n\\t\\n\\tvar _typeof = typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; };\\n\\t\\n\\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\\n\\t\\n\\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\t\\n\\t// import { Node } from 'quantizer/state';\\n\\t// import { isMap } from '../types/types';\\n\\t\\n\\t/**\\n\\t * Creates a new Vec2.\\n\\t * @class\\n\\t */\\n\\t\\n\\tvar Vec2 = function () {\\n\\t\\tfunction Vec2(x, y) {\\n\\t\\t\\t_classCallCheck(this, Vec2);\\n\\t\\n\\t\\t\\tif ((typeof x === 'undefined' ? 'undefined' : _typeof(x)) === 'object') {\\n\\t\\n\\t\\t\\t\\tthis.set(x);\\n\\t\\t\\t} else {\\n\\t\\n\\t\\t\\t\\tthis.x = x || 0;\\n\\t\\t\\t\\tthis.y = y || 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\n\\t\\t_createClass(Vec2, [{\\n\\t\\t\\tkey: 'get',\\n\\t\\n\\t\\n\\t\\t\\t/**\\n\\t   * Get vector object.\\n\\t   *\\n\\t   * @returns { Object }\\n\\t   */\\n\\t\\n\\t\\t\\tvalue: function get() {\\n\\t\\n\\t\\t\\t\\tvar result = {};\\n\\t\\n\\t\\t\\t\\tif (arguments.length) {\\n\\t\\n\\t\\t\\t\\t\\tfor (var name in arguments[0]) {\\n\\t\\n\\t\\t\\t\\t\\t\\tresult[name] = this[name];\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\n\\t\\t\\t\\t\\tresult = {\\n\\t\\t\\t\\t\\t\\tx: this.x,\\n\\t\\t\\t\\t\\t\\ty: this.y\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\treturn result;\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'sub',\\n\\t\\t\\tvalue: function sub(vec2) {\\n\\t\\n\\t\\t\\t\\treturn Vec2.Sub(this, vec2);\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'add',\\n\\t\\t\\tvalue: function add(vec2) {\\n\\t\\n\\t\\t\\t\\treturn Vec2.Add(this, vec2);\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'mult',\\n\\t\\t\\tvalue: function mult(vec2) {\\n\\t\\n\\t\\t\\t\\treturn Vec2.Multiply(this, vec2);\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   * Set vector object.\\n\\t   *\\n\\t   * @param { Object } source - Source value.\\n\\t   * @returns { Vec2 }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'set',\\n\\t\\t\\tvalue: function set() {\\n\\t\\n\\t\\t\\t\\tfor (var name in arguments[0]) {\\n\\t\\n\\t\\t\\t\\t\\tthis[name] = arguments[0][name];\\n\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\treturn this;\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'setX',\\n\\t\\t\\tvalue: function setX(value) {\\n\\t\\n\\t\\t\\t\\treturn new Vec2(value, this.y);\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'setY',\\n\\t\\t\\tvalue: function setY(value) {\\n\\t\\n\\t\\t\\t\\treturn new Vec2(this.x, value);\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   *  Get vector length.\\n\\t   *\\n\\t   *  @returns { Number }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'multScalar',\\n\\t\\n\\t\\n\\t\\t\\t/**\\n\\t   *  Get modified vector by multiply coords.\\n\\t   *\\n\\t   *  @returns { Vec2 }\\n\\t   */\\n\\t\\n\\t\\t\\tvalue: function multScalar(scalar) {\\n\\t\\n\\t\\t\\t\\treturn new Vec2(this.x * scalar, this.y * scalar);\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   *  Get inverted vector.\\n\\t   *\\n\\t   *  @returns { Vec2 }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'invert',\\n\\t\\t\\tvalue: function invert() {\\n\\t\\n\\t\\t\\t\\treturn new Vec2(-this.x, -this.y);\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   *  Get vector by x coord.\\n\\t   *\\n\\t   *  @returns { Vec2 }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'invertX',\\n\\t\\t\\tvalue: function invertX() {\\n\\t\\n\\t\\t\\t\\treturn new Vec2(-this.x, this.y);\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   *  Get vector by y coord.\\n\\t   *\\n\\t   *  @returns { Vec2 }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'invertY',\\n\\t\\t\\tvalue: function invertY() {\\n\\t\\n\\t\\t\\t\\treturn new Vec2(this.x, -this.y);\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   *  Clone vector.\\n\\t   *\\n\\t   *  @returns { Vec2 }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'clone',\\n\\t\\t\\tvalue: function clone() {\\n\\t\\n\\t\\t\\t\\treturn new Vec2(this.x, this.y);\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   *  Min vector.\\n\\t   *\\n\\t   * @param { Object } vec - min vector.\\n\\t   *  @returns { Vec2 }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'min',\\n\\t\\t\\tvalue: function min(vec) {\\n\\t\\n\\t\\t\\t\\tif (this.x < vec.x) {\\n\\t\\n\\t\\t\\t\\t\\tthis.x = vec.x;\\n\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\tif (this.y < vec.y) {\\n\\t\\n\\t\\t\\t\\t\\tthis.y = vec.y;\\n\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\treturn this;\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   *  Normalize vector.\\n\\t   *\\n\\t   *  @returns { Vec2 }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'normal',\\n\\t\\t\\tvalue: function normal() {\\n\\t\\n\\t\\t\\t\\treturn new Vec2(Math.abs(this.x), Math.abs(this.y));\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   *  Max vector.\\n\\t   *\\n\\t   * @param { Object } vec - max vector.\\n\\t   * @returns { Vec2 }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'max',\\n\\t\\t\\tvalue: function max(vec) {\\n\\t\\n\\t\\t\\t\\tif (this.x > vec.x) {\\n\\t\\n\\t\\t\\t\\t\\tthis.x = vec.x;\\n\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\tif (this.y > vec.y) {\\n\\t\\n\\t\\t\\t\\t\\tthis.y = vec.y;\\n\\t\\t\\t\\t}\\n\\t\\n\\t\\t\\t\\treturn this;\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'fromSize',\\n\\t\\t\\tvalue: function fromSize(size) {\\n\\t\\n\\t\\t\\t\\tthis.set({\\n\\t\\t\\t\\t\\tx: size.w,\\n\\t\\t\\t\\t\\ty: size.h\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'toSize',\\n\\t\\t\\tvalue: function toSize() {\\n\\t\\n\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\tw: this.x,\\n\\t\\t\\t\\t\\th: this.y\\n\\t\\t\\t\\t};\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'dotProduct',\\n\\t\\t\\tvalue: function dotProduct(vec) {\\n\\t\\n\\t\\t\\t\\treturn Vec2.DotProduct(this, vec);\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'project',\\n\\t\\t\\tvalue: function project(vec) {\\n\\t\\n\\t\\t\\t\\treturn Vec2.Project(this, vec);\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'angle',\\n\\t\\t\\tvalue: function angle(vec) {\\n\\t\\n\\t\\t\\t\\treturn Vec2.Angle(this, vec);\\n\\t\\t\\t}\\n\\t\\t}, {\\n\\t\\t\\tkey: 'length',\\n\\t\\t\\tget: function get() {\\n\\t\\n\\t\\t\\t\\treturn Math.sqrt(this.x * this.x + this.y * this.y);\\n\\t\\t\\t}\\n\\t\\t}], [{\\n\\t\\t\\tkey: 'From',\\n\\t\\t\\tvalue: function From(obj) {\\n\\t\\n\\t\\t\\t\\treturn new Vec2().set(obj);\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   * Summary two vectors.\\n\\t   *\\n\\t   * @static\\n\\t   * @param { Vec2 } vec1 - first vector\\n\\t   * @param { Vec2 } vec2 - second vector\\n\\t   * @returns { Vec2 }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'Add',\\n\\t\\t\\tvalue: function Add(vec1, vec2) {\\n\\t\\n\\t\\t\\t\\treturn new Vec2(vec1.x + vec2.x, vec1.y + vec2.y);\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   * Subvector two vectors.\\n\\t   *\\n\\t   * @static\\n\\t   * @param { Vec2 } vec1 - first vector\\n\\t   * @param { Vec2 } vec2 - second vector\\n\\t   * @returns { Vec2 }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'Sub',\\n\\t\\t\\tvalue: function Sub(vec1, vec2) {\\n\\t\\n\\t\\t\\t\\treturn new Vec2(vec1.x - vec2.x, vec1.y - vec2.y);\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   * Multiply two vectors.\\n\\t   *\\n\\t   * @static\\n\\t   * @param { Vec2 } vec1 - first vector\\n\\t   * @param { Vec2 } vec2 - second vector\\n\\t   * @returns { Vec2 }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'Multiply',\\n\\t\\t\\tvalue: function Multiply(vec1, vec2) {\\n\\t\\n\\t\\t\\t\\treturn new Vec2(vec1.x * vec2.x, vec1.y * vec2.y);\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   * Divide 2 argument vectors.\\n\\t   *\\n\\t   * @static\\n\\t   * @param { Vec2 } vec1 - first vector\\n\\t   * @param { Vec2 } vec2 - second vector\\n\\t   * @returns { Vec2 }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'Divide',\\n\\t\\t\\tvalue: function Divide(vec1, vec2) {\\n\\t\\n\\t\\t\\t\\treturn new Vec2(vec1.x / vec2.x, vec1.y / vec2.y);\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   * Distance between 2 argument vectors.\\n\\t   *\\n\\t   * @static\\n\\t   * @param { Vec2 } vec1 - first vector\\n\\t   * @param { Vec2 } vec2 - second vector\\n\\t   * @returns { Number }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'Distance',\\n\\t\\t\\tvalue: function Distance(vec1, vec2) {\\n\\t\\n\\t\\t\\t\\treturn Math.sqrt(Math.pow(vec1.x - vec2.x, 2) + Math.pow(vec1.y - vec2.y, 2));\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   * Dot product\\n\\t   *\\n\\t   * @param { Vec2 } vec1 - first vector\\n\\t   * @param { Vec2 } vec2 - second vector\\n\\t   * @returns {number}\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'DotProduct',\\n\\t\\t\\tvalue: function DotProduct(vec1, vec2) {\\n\\t\\n\\t\\t\\t\\treturn vec1.x * vec2.x + vec1.y * vec2.y;\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   * Projecting vector to vector\\n\\t   *\\n\\t   * @param { Vec2 } vec1 - first vector\\n\\t   * @param { Vec2 } vec2 - second vector\\n\\t   * @returns { Vec2 }\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'Project',\\n\\t\\t\\tvalue: function Project(vec1, vec2) {\\n\\t\\n\\t\\t\\t\\tvar d = vec2.dotProduct(vec2);\\n\\t\\n\\t\\t\\t\\tif (d > 0) {\\n\\t\\n\\t\\t\\t\\t\\tvar dp = vec1.dotProduct(vec2);\\n\\t\\t\\t\\t\\tvar multiplier = dp / d;\\n\\t\\t\\t\\t\\treturn vec2.multScalar(multiplier);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\treturn new Vec2(0, 0);\\n\\t\\t\\t}\\n\\t\\n\\t\\t\\t/**\\n\\t   * Get angle between two vectors\\n\\t   *\\n\\t   * @param { Vec2 } vec1 - first vector\\n\\t   * @param { Vec2 } vec2 - second vector\\n\\t   * @returns {number}\\n\\t   */\\n\\t\\n\\t\\t}, {\\n\\t\\t\\tkey: 'Angle',\\n\\t\\t\\tvalue: function Angle(vec1, vec2) {\\n\\t\\n\\t\\t\\t\\treturn vec1.dotProduct(vec2) / (vec1.length * vec2.length);\\n\\t\\t\\t}\\n\\t\\t}]);\\n\\t\\n\\t\\treturn Vec2;\\n\\t}();\\n\\t\\n\\texports.default = Vec2;\\n\\n/***/ },\\n/* 8 */\\n/***/ function(module, exports) {\\n\\n\\t\\\"use strict\\\";\\n\\t\\n\\tObject.defineProperty(exports, \\\"__esModule\\\", {\\n\\t  value: true\\n\\t});\\n\\tvar PARTS_NUM = exports.PARTS_NUM = 15;\\n\\tvar UNIT_RAD = exports.UNIT_RAD = 30;\\n\\tvar FOOD_RAD = exports.FOOD_RAD = 8;\\n\\tvar LINE_LENGTH = exports.LINE_LENGTH = 25;\\n\\n/***/ }\\n/******/ ]);\\n//# sourceMappingURL=a4e38c1823aba5df02bc.worker.js.map\", __webpack_public_path__ + \"a4e38c1823aba5df02bc.worker.js\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/worker-loader?inline!./src/workers/simulator_worker.js\n// module id = 6\n// module chunks = 0","// http://stackoverflow.com/questions/10343913/how-to-create-a-web-worker-from-a-string\r\n\r\nvar URL = window.URL || window.webkitURL;\r\nmodule.exports = function(content, url) {\r\n\ttry {\r\n\t\ttry {\r\n\t\t\tvar blob;\r\n\t\t\ttry { // BlobBuilder = Deprecated, but widely implemented\r\n\t\t\t\tvar BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\r\n\t\t\t\tblob = new BlobBuilder();\r\n\t\t\t\tblob.append(content);\r\n\t\t\t\tblob = blob.getBlob();\r\n\t\t\t} catch(e) { // The proposed API\r\n\t\t\t\tblob = new Blob([content]);\r\n\t\t\t}\r\n\t\t\treturn new Worker(URL.createObjectURL(blob));\r\n\t\t} catch(e) {\r\n\t\t\treturn new Worker('data:application/javascript,' + encodeURIComponent(content));\r\n\t\t}\r\n\t} catch(e) {\r\n\t\treturn new Worker(url);\r\n\t}\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/worker-loader/createInlineWorker.js\n// module id = 7\n// module chunks = 0","class UIController {\n\n\tconstructor() {\n\n\t\tthis.callback = () => {};\n\n\t}\n\n\tinit(obj) {\n\t\t\n\t\tthis.putButtons(\n\t\t\tobj.options.visibleUnit,\n\t\t\tobj.options.populationSize,\n\t\t\tobj.current.map(u => u.unit)\n\t\t);\n\t\tthis.putPlayPause();\n\t\tthis.setPopulationNum(obj.populationNum);\n\t\tthis.putOptions(obj.evolver.params, obj.options);\n\n\t}\n\n\tsetCallback(func) {\n\n\t\tthis.callback = func;\n\n\t}\n\n\tsetStyle(node, style) {\n\n\t\tfor (let i in style) {\n\n\t\t\tnode.style[ i ] = style[ i ];\n\n\t\t}\n\n\t}\n\t\n\tupdate({ units, visible, highlight, populationNum }) {\n\n\t\tconst cont = document.querySelector('#buttons_cont');\n\t\tif (cont) {\n\t\t\tunits.map((o, key) => {\n\t\t\t\tlet c = cont.children[key];\n\t\t\t\tif (!c || key === cont.children.length - 1) {\n\t\t\t\t\tc = this.createElement(key + 1, visible === key);\n\t\t\t\t\tcont.insertBefore(c, cont.children[cont.children.length - 1]);\n\t\t\t\t}\n\t\t\t\tconst life = Math.max(Math.min(o.life, 100), 0);\n\t\t\t\tconst btn = c.children[ 0 ];\n\t\t\t\tconst graph = c.children[ 1 ];\n\t\t\t\tconst color = `rgb(${\n\t\t\t\t\tMath.round(255 - (life / 100 * 255))\n\t\t\t\t\t}, ${Math.round(life / 100 * 255)}, 0)`;\n\t\t\t\tbtn.style.color = visible === key + 1 ? 'green' : 'black';\n\t\t\t\tbtn.style.fontWeight = visible === key + 1 ? 'bold' : 'normal';\n\t\t\t\tbtn.style.backgroundColor = highlight === key ? 'lightblue' : 'transparent';\n\t\t\t\tgraph.style.height = `${life / 2}px`;\n\t\t\t\tgraph.style.backgroundColor = color;\n\t\t\t\tgraph.innerHTML = o.score;\n\t\t\t});\n\t\t\tif (units.length < cont.children.length - 1) {\n\t\t\t\tfor (let i = units.length; i < cont.children.length - 1; i++) {\n\t\t\t\t\tcont.children[ i ].remove();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.setPopulationNum(populationNum);\n\n\t}\n\n\tcreateElement(i, selected) {\n\n\t\tconst style = {\n\t\t\tborder: '1px solid black',\n\t\t\tfontSize: '16px',\n\t\t\twidth: '30px',\n\t\t\theight: '30px',\n\t\t\tcolor: 'black',\n\t\t\tlineHeight: '30px',\n\t\t\tcursor: 'pointer',\n\t\t\tfontWeight: 'normal'\n\t\t};\n\n\t\tconst selStyle = {\n\t\t\tcolor: 'green',\n\t\t\tfontWeight: 'bold'\n\t\t}\n\n\t\tconst cont = document.createElement('div');\n\t\tcont.id = i;\n\t\tthis.setStyle(cont, {\n\t\t\tdisplay: 'inline-block',\n\t\t\tmarginLeft: '-1px',\n\t\t});\n\t\tconst el = document.createElement('div');\n\t\tthis.setStyle(el, Object.assign({}, style, selected === i ? selStyle : {}));\n\t\tel.innerText = i;\n\t\tel.onclick = () => {\n\t\t\tthis.callback('options', { visibleUnit: i });\n\t\t};\n\n\t\tcont.appendChild(el);\n\n\t\tconst score = document.createElement('div');\n\t\tscore.innerHTML = 0;\n\t\tthis.setStyle(score, {\n\t\t\theight: `50px`,\n\t\t\twidth: '100%',\n\t\t\tbackgroundColor: `green`\n\t\t});\n\n\t\tcont.appendChild(score);\n\n\t\treturn cont;\n\n\t}\n\n\tputButtons(selected, num) {\n\n\t\tconst cont = document.createElement('div');\n\t\tcont.id = 'buttons_cont';\n\n\t\tthis.setStyle(cont, { textAlign: 'center' });\n\n\t\tconst arr = new Array(num)\n\t\t\t.fill(null)\n\t\t\t.map((a, key) => key + 1);\n\t\tarr.push('HS');\n\t\tarr.map((i) => {\n\n\t\t\tconst el = this.createElement(i, selected);\n\t\t\tcont.appendChild(el);\n\n\t\t});\n\t\tdocument.querySelector('#interactive_container').appendChild(cont);\n\n\t}\n\n\tputPlayPause() {\n\n\t\tdocument.querySelector('#play_btn').onclick = () => {\n\t\t\tthis.callback('play');\n\t\t}\n\n\t}\n\n\tsetPopulationNum(num) {\n\n\t\tdocument.querySelector('#population_num').innerHTML = `Population: ${num}`;\n\n\t}\n\n\tputOptions(options, root_opt) {\n\n\t\tconst pop_size = document.querySelector('#pop_size');\n\t\tconst num_win = document.querySelector('#num_win');\n\t\tconst mut_num = document.querySelector('#mut_num');\n\t\tconst mut_rate = document.querySelector('#mut_rate');\n\t\tconst select_fps = document.querySelector('#select_fps');\n\t\tconst speed = document.querySelector('#speed');\n\t\tpop_size.value = options.populationSize;\n\t\tnum_win.value = options.numberOfWinners;\n\t\tmut_num.value = options.genesToMutate;\n\t\tmut_rate.value = options.mutationRate * 100;\n\t\tselect_fps.value = root_opt.FPS;\n\t\tspeed.value = root_opt.speed;\n\t\tspeed.onchange = (e) => {\n\t\t\tthis.callback('options', { speed: parseInt(e.target.value) });\n\t\t};\n\t\tselect_fps.onchange = (e) => {\n\t\t\tthis.callback('options', { FPS: parseInt(e.target.value) });\n\t\t};\n\t\tpop_size.onchange = (e) => {\n\t\t\tnum_win.max = e.target.value;\n\t\t\tif (num_win.value > e.target.value) {\n\t\t\t\tnum_win.value = e.target.value;\n\t\t\t}\n\t\t\tthis.callback('form_options', { populationSize: e.target.value });\n\t\t};\n\t\tnum_win.onchange = (e) => {\n\t\t\tthis.callback('form_options', { numberOfWinners: e.target.value });\n\t\t};\n\t\tmut_num.onchange = (e) => {\n\t\t\tthis.callback('form_options', { genesToMutate: e.target.value });\n\t\t};\n\t\tmut_rate.onchange = (e) => {\n\t\t\tthis.callback('form_options', { mutationRate: e.target.value / 100 });\n\t\t};\n\n\t}\n\n}\n\nexport default new UIController();\n\n\n// WEBPACK FOOTER //\n// ./src/ui_controller.js"],"sourceRoot":""}